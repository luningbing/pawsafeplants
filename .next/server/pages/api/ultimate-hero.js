"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/ultimate-hero";
exports.ids = ["pages/api/ultimate-hero"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fultimate-hero&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cultimate-hero.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fultimate-hero&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cultimate-hero.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_ultimate_hero_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\ultimate-hero.js */ \"(api)/./pages/api/ultimate-hero.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_ultimate_hero_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_ultimate_hero_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/ultimate-hero\",\n        pathname: \"/api/ultimate-hero\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_ultimate_hero_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVsdGltYXRlLWhlcm8mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3VsdGltYXRlLWhlcm8uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDMkQ7QUFDM0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXdzYWZlcGxhbnRzLz9jZmVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcdWx0aW1hdGUtaGVyby5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VsdGltYXRlLWhlcm9cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91bHRpbWF0ZS1oZXJvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fultimate-hero&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cultimate-hero.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/ultimate-hero.js":
/*!************************************!*\
  !*** ./pages/api/ultimate-hero.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function handler(req, res) {\n    try {\n        console.log(\"Ultimate Hero API called:\", req.method);\n        const settingsDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"content\", \"settings\");\n        const heroFile = path__WEBPACK_IMPORTED_MODULE_1___default().join(settingsDir, \"hero.json\");\n        // 确保目录存在\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(settingsDir)) {\n            console.log(\"Creating settings directory:\", settingsDir);\n            fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(settingsDir, {\n                recursive: true\n            });\n        }\n        if (req.method === \"GET\") {\n            console.log(\"Reading ultimate hero carousel data\");\n            console.log(\"Supabase URL:\", process.env.SUPABASE_URL);\n            console.log(\"Supabase Key exists:\", !!process.env.SUPABASE_SERVICE_ROLE_KEY);\n            // 直接从Supabase数据库读取你的配置\n            try {\n                const supabaseUrl = process.env.SUPABASE_URL || \"\";\n                const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\n                if (supabaseUrl && supabaseKey) {\n                    console.log(\"Reading from Supabase database\");\n                    const client = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseKey);\n                    const { data, error } = await client.from(\"hero_carousel\").select(\"*\").order(\"created_at\", {\n                        ascending: false\n                    }).limit(1);\n                    console.log(\"Supabase response:\", {\n                        data,\n                        error\n                    });\n                    if (error) {\n                        console.error(\"Database read error:\", error);\n                    } else if (data && data.length > 0) {\n                        const heroData = data[0].content;\n                        console.log(\"Found hero data in database:\", heroData);\n                        if (heroData.slides && Array.isArray(heroData.slides) && heroData.slides.length >= 3) {\n                            console.log(\"Processing slides:\", heroData.slides);\n                            // 使用现有的前3张轮播图数据\n                            const ultimateData = {\n                                slides: heroData.slides.slice(0, 3).map((slide)=>({\n                                        imageUrl: slide.imageUrl,\n                                        title: slide.title,\n                                        subtitle: slide.subtitle,\n                                        link: slide.link || \"/plants/safe\"\n                                    })),\n                                updatedAt: new Date().toISOString()\n                            };\n                            console.log(\"Ultimate data prepared:\", ultimateData);\n                            // 保存到ultimate-hero.json文件\n                            try {\n                                fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(heroFile, JSON.stringify(ultimateData, null, 2));\n                                console.log(\"Saved existing data to ultimate-hero.json\");\n                            } catch (writeError) {\n                                console.error(\"Error writing ultimate hero file:\", writeError);\n                            }\n                            return res.status(200).json(ultimateData);\n                        } else {\n                            console.log(\"Invalid slides data in database\");\n                        }\n                    } else {\n                        console.log(\"No data found in database\");\n                    }\n                } else {\n                    console.log(\"Missing Supabase credentials\");\n                }\n            } catch (dbError) {\n                console.error(\"Database connection error:\", dbError);\n            }\n            // 如果无法获取现有数据，尝试从文件读取\n            try {\n                if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(heroFile)) {\n                    console.log(\"Reading from ultimate hero file:\", heroFile);\n                    const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(heroFile, \"utf8\");\n                    const savedData = JSON.parse(data);\n                    if (savedData.slides && Array.isArray(savedData.slides) && savedData.slides.length === 3) {\n                        console.log(\"Using saved ultimate hero data:\", savedData);\n                        return res.status(200).json(savedData);\n                    }\n                }\n            } catch (fileError) {\n                console.error(\"Error reading ultimate hero file:\", fileError);\n            }\n            // 最后的默认数据 - 使用你现有的图片路径\n            const defaultData = {\n                slides: [\n                    {\n                        imageUrl: \"/uploads/20250530-190020.jpg\",\n                        title: \"Cat-Safe Plants for Your Home\",\n                        subtitle: \"Create a beautiful, pet-friendly living space\",\n                        link: \"/plants/safe\"\n                    },\n                    {\n                        imageUrl: \"/uploads/_247026d4-f09b-4307-9d55-65b40bd2813c.jpg\",\n                        title: \"Toxic Plants to Avoid\",\n                        subtitle: \"Protect your feline friends from harmful plants\",\n                        link: \"/plants/toxic\"\n                    },\n                    {\n                        imageUrl: \"/uploads/7ae0aff1-4b60-4c05-aa34-fcd6a9ea3dd2_7930717a90c33c714f1ae8d742554593_ComfyUI_033fc57d_00001_.png\",\n                        title: \"Plant Care Guide\",\n                        subtitle: \"Learn how to care for your green companions\",\n                        link: \"/plants/caution\"\n                    }\n                ],\n                updatedAt: new Date().toISOString()\n            };\n            console.log(\"Using default data with existing image paths\");\n            return res.status(200).json(defaultData);\n        }\n        if (req.method === \"POST\") {\n            console.log(\"Saving ultimate hero carousel data\");\n            const { slides } = req.body;\n            console.log(\"Received slides:\", slides);\n            if (!slides || !Array.isArray(slides) || slides.length !== 3) {\n                console.error(\"Invalid slides data - must have exactly 3 slides\");\n                return res.status(400).json({\n                    error: \"必须提供3张轮播图数据\"\n                });\n            }\n            // 验证每张slide的必需字段\n            for(let i = 0; i < 3; i++){\n                const slide = slides[i];\n                if (!slide.imageUrl || !slide.title || !slide.subtitle) {\n                    return res.status(400).json({\n                        error: `第${i + 1}张轮播图缺少必需字段 (imageUrl, title, subtitle)`\n                    });\n                }\n            }\n            const heroData = {\n                slides: slides,\n                updatedAt: new Date().toISOString()\n            };\n            console.log(\"Writing ultimate hero data to file:\", heroFile);\n            try {\n                fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(heroFile, JSON.stringify(heroData, null, 2));\n                console.log(\"Ultimate hero data saved successfully\");\n            } catch (writeError) {\n                console.error(\"Error writing hero file:\", writeError);\n                return res.status(500).json({\n                    error: \"保存失败: \" + writeError.message\n                });\n            }\n            return res.status(200).json(heroData);\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Ultimate Hero API error:\", error);\n        return res.status(500).json({\n            error: \"Internal server error: \" + error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPOUMsSUFBSStDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUU1QixPQUFPLFdBQVcwQixXQUFXVyxPQUFPO2dCQUFDO1lBQ3JFO1lBRUEsT0FBT3pELElBQUkrQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDckI7UUFDOUI7UUFFQSxPQUFPM0IsSUFBSStDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRTVCLE9BQU87UUFBcUI7SUFDNUQsRUFBRSxPQUFPQSxPQUFPO1FBQ2RuQixRQUFRbUIsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT3BCLElBQUkrQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUU1QixPQUFPLDRCQUE0QkEsTUFBTXFDLE9BQU87UUFBQztJQUNqRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGF3c2FmZXBsYW50cy8uL3BhZ2VzL2FwaS91bHRpbWF0ZS1oZXJvLmpzPzUwZmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdVbHRpbWF0ZSBIZXJvIEFQSSBjYWxsZWQ6JywgcmVxLm1ldGhvZCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHNldHRpbmdzRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdjb250ZW50JywgJ3NldHRpbmdzJyk7XHJcbiAgICBjb25zdCBoZXJvRmlsZSA9IHBhdGguam9pbihzZXR0aW5nc0RpciwgJ2hlcm8uanNvbicpO1xyXG4gICAgXHJcbiAgICAvLyDnoa7kv53nm67lvZXlrZjlnKhcclxuICAgIGlmICghZnMuZXhpc3RzU3luYyhzZXR0aW5nc0RpcikpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHNldHRpbmdzIGRpcmVjdG9yeTonLCBzZXR0aW5nc0Rpcik7XHJcbiAgICAgIGZzLm1rZGlyU3luYyhzZXR0aW5nc0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVhZGluZyB1bHRpbWF0ZSBoZXJvIGNhcm91c2VsIGRhdGEnKTtcclxuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIFVSTDonLCBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwpO1xyXG4gICAgICBjb25zb2xlLmxvZygnU3VwYWJhc2UgS2V5IGV4aXN0czonLCAhIXByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkpO1xyXG4gICAgICBcclxuICAgICAgLy8g55u05o6l5LuOU3VwYWJhc2XmlbDmja7lupPor7vlj5bkvaDnmoTphY3nva5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCB8fCAnJztcclxuICAgICAgICBjb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfQU5PTl9LRVkgfHwgJyc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN1cGFiYXNlVXJsICYmIHN1cGFiYXNlS2V5KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVhZGluZyBmcm9tIFN1cGFiYXNlIGRhdGFiYXNlJyk7XHJcbiAgICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XHJcbiAgICAgICAgICAgIC5mcm9tKCdoZXJvX2Nhcm91c2VsJylcclxuICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAubGltaXQoMSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSByZXNwb25zZTonLCB7IGRhdGEsIGVycm9yIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcmVhZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlcm9EYXRhID0gZGF0YVswXS5jb250ZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgaGVybyBkYXRhIGluIGRhdGFiYXNlOicsIGhlcm9EYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChoZXJvRGF0YS5zbGlkZXMgJiYgQXJyYXkuaXNBcnJheShoZXJvRGF0YS5zbGlkZXMpICYmIGhlcm9EYXRhLnNsaWRlcy5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIHNsaWRlczonLCBoZXJvRGF0YS5zbGlkZXMpO1xyXG4gICAgICAgICAgICAgIC8vIOS9v+eUqOeOsOacieeahOWJjTPlvKDova7mkq3lm77mlbDmja5cclxuICAgICAgICAgICAgICBjb25zdCB1bHRpbWF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXM6IGhlcm9EYXRhLnNsaWRlcy5zbGljZSgwLCAzKS5tYXAoc2xpZGUgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHNsaWRlLmltYWdlVXJsLFxyXG4gICAgICAgICAgICAgICAgICB0aXRsZTogc2xpZGUudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBzbGlkZS5zdWJ0aXRsZSxcclxuICAgICAgICAgICAgICAgICAgbGluazogc2xpZGUubGluayB8fCAnL3BsYW50cy9zYWZlJ1xyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbHRpbWF0ZSBkYXRhIHByZXBhcmVkOicsIHVsdGltYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8g5L+d5a2Y5YiwdWx0aW1hdGUtaGVyby5qc29u5paH5Lu2XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMoaGVyb0ZpbGUsIEpTT04uc3RyaW5naWZ5KHVsdGltYXRlRGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhdmVkIGV4aXN0aW5nIGRhdGEgdG8gdWx0aW1hdGUtaGVyby5qc29uJyk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAod3JpdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyB1bHRpbWF0ZSBoZXJvIGZpbGU6Jywgd3JpdGVFcnJvcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih1bHRpbWF0ZURhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIHNsaWRlcyBkYXRhIGluIGRhdGFiYXNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBkYXRhIGZvdW5kIGluIGRhdGFiYXNlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdNaXNzaW5nIFN1cGFiYXNlIGNyZWRlbnRpYWxzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChkYkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjonLCBkYkVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g5aaC5p6c5peg5rOV6I635Y+W546w5pyJ5pWw5o2u77yM5bCd6K+V5LuO5paH5Lu26K+75Y+WXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoaGVyb0ZpbGUpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVhZGluZyBmcm9tIHVsdGltYXRlIGhlcm8gZmlsZTonLCBoZXJvRmlsZSk7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGhlcm9GaWxlLCAndXRmOCcpO1xyXG4gICAgICAgICAgY29uc3Qgc2F2ZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHNhdmVkRGF0YS5zbGlkZXMgJiYgQXJyYXkuaXNBcnJheShzYXZlZERhdGEuc2xpZGVzKSAmJiBzYXZlZERhdGEuc2xpZGVzLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgc2F2ZWQgdWx0aW1hdGUgaGVybyBkYXRhOicsIHNhdmVkRGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihzYXZlZERhdGEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZmlsZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyB1bHRpbWF0ZSBoZXJvIGZpbGU6JywgZmlsZUVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g5pyA5ZCO55qE6buY6K6k5pWw5o2uIC0g5L2/55So5L2g546w5pyJ55qE5Zu+54mH6Lev5b6EXHJcbiAgICAgIGNvbnN0IGRlZmF1bHREYXRhID0ge1xyXG4gICAgICAgIHNsaWRlczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZVVybDogJy91cGxvYWRzLzIwMjUwNTMwLTE5MDAyMC5qcGcnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0NhdC1TYWZlIFBsYW50cyBmb3IgWW91ciBIb21lJyxcclxuICAgICAgICAgICAgc3VidGl0bGU6ICdDcmVhdGUgYSBiZWF1dGlmdWwsIHBldC1mcmllbmRseSBsaXZpbmcgc3BhY2UnLFxyXG4gICAgICAgICAgICBsaW5rOiAnL3BsYW50cy9zYWZlJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2VVcmw6ICcvdXBsb2Fkcy9fMjQ3MDI2ZDQtZjA5Yi00MzA3LTlkNTUtNjViNDBiZDI4MTNjLmpwZycsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnVG94aWMgUGxhbnRzIHRvIEF2b2lkJyxcclxuICAgICAgICAgICAgc3VidGl0bGU6ICdQcm90ZWN0IHlvdXIgZmVsaW5lIGZyaWVuZHMgZnJvbSBoYXJtZnVsIHBsYW50cycsXHJcbiAgICAgICAgICAgIGxpbms6ICcvcGxhbnRzL3RveGljJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2VVcmw6ICcvdXBsb2Fkcy83YWUwYWZmMS00YjYwLTRjMDUtYWEzNC1mY2Q2YTllYTNkZDJfNzkzMDcxN2E5MGMzM2M3MTRmMWFlOGQ3NDI1NTQ1OTNfQ29tZnlVSV8wMzNmYzU3ZF8wMDAwMV8ucG5nJyxcclxuICAgICAgICAgICAgdGl0bGU6ICdQbGFudCBDYXJlIEd1aWRlJyxcclxuICAgICAgICAgICAgc3VidGl0bGU6ICdMZWFybiBob3cgdG8gY2FyZSBmb3IgeW91ciBncmVlbiBjb21wYW5pb25zJyxcclxuICAgICAgICAgICAgbGluazogJy9wbGFudHMvY2F1dGlvbidcclxuICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgZGVmYXVsdCBkYXRhIHdpdGggZXhpc3RpbmcgaW1hZ2UgcGF0aHMnKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRlZmF1bHREYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgICBjb25zb2xlLmxvZygnU2F2aW5nIHVsdGltYXRlIGhlcm8gY2Fyb3VzZWwgZGF0YScpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBzbGlkZXMgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgc2xpZGVzOicsIHNsaWRlcyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNsaWRlcyB8fCAhQXJyYXkuaXNBcnJheShzbGlkZXMpIHx8IHNsaWRlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHNsaWRlcyBkYXRhIC0gbXVzdCBoYXZlIGV4YWN0bHkgMyBzbGlkZXMnKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ+W/hemhu+aPkOS+mzPlvKDova7mkq3lm77mlbDmja4nIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4Hmr4/lvKBzbGlkZeeahOW/hemcgOWtl+autVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsaWRlID0gc2xpZGVzW2ldO1xyXG4gICAgICAgIGlmICghc2xpZGUuaW1hZ2VVcmwgfHwgIXNsaWRlLnRpdGxlIHx8ICFzbGlkZS5zdWJ0aXRsZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiBg56ysJHtpICsgMX3lvKDova7mkq3lm77nvLrlsJHlv4XpnIDlrZfmrrUgKGltYWdlVXJsLCB0aXRsZSwgc3VidGl0bGUpYCBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgaGVyb0RhdGEgPSB7XHJcbiAgICAgICAgc2xpZGVzOiBzbGlkZXMsXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcml0aW5nIHVsdGltYXRlIGhlcm8gZGF0YSB0byBmaWxlOicsIGhlcm9GaWxlKTtcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhoZXJvRmlsZSwgSlNPTi5zdHJpbmdpZnkoaGVyb0RhdGEsIG51bGwsIDIpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnVWx0aW1hdGUgaGVybyBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9IGNhdGNoICh3cml0ZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyBoZXJvIGZpbGU6Jywgd3JpdGVFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICfkv53lrZjlpLHotKU6ICcgKyB3cml0ZUVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihoZXJvRGF0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVWx0aW1hdGUgSGVybyBBUEkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiY3JlYXRlQ2xpZW50IiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJzZXR0aW5nc0RpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiaGVyb0ZpbGUiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwiZW52IiwiU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlVXJsIiwic3VwYWJhc2VLZXkiLCJTVVBBQkFTRV9BTk9OX0tFWSIsImNsaWVudCIsImRhdGEiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwibGVuZ3RoIiwiaGVyb0RhdGEiLCJjb250ZW50Iiwic2xpZGVzIiwiQXJyYXkiLCJpc0FycmF5IiwidWx0aW1hdGVEYXRhIiwic2xpY2UiLCJtYXAiLCJzbGlkZSIsImltYWdlVXJsIiwidGl0bGUiLCJzdWJ0aXRsZSIsImxpbmsiLCJ1cGRhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsIndyaXRlRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwiZGJFcnJvciIsInJlYWRGaWxlU3luYyIsInNhdmVkRGF0YSIsInBhcnNlIiwiZmlsZUVycm9yIiwiZGVmYXVsdERhdGEiLCJib2R5IiwiaSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/ultimate-hero.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fultimate-hero&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cultimate-hero.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();