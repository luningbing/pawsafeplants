"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/site-config";
exports.ids = ["pages/api/site-config"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsite-config&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csite-config.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsite-config&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csite-config.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_site_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\site-config.js */ \"(api)/./pages/api/site-config.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_site_config_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_site_config_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/site-config\",\n        pathname: \"/api/site-config\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_site_config_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNpdGUtY29uZmlnJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNzaXRlLWNvbmZpZy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Bhd3NhZmVwbGFudHMvPzA4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxzaXRlLWNvbmZpZy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NpdGUtY29uZmlnXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2l0ZS1jb25maWdcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsite-config&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csite-config.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/site-config.js":
/*!**********************************!*\
  !*** ./pages/api/site-config.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function handler(req, res) {\n    try {\n        const fp = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"content\", \"site.json\");\n        if (req.method === \"GET\") {\n            const supabaseUrl = process.env.SUPABASE_URL || \"\";\n            const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\n            if (supabaseUrl && supabaseKey) {\n                const client = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseKey);\n                const { data, error } = await client.from(\"site_config\").select(\"key,value\").in(\"key\", [\n                    \"heroImage\",\n                    \"logo\"\n                ]);\n                if (!error) {\n                    const map = Object.create(null)(data || []).forEach((r)=>{\n                        map[r.key] = r.value;\n                    });\n                    return res.status(200).json({\n                        heroImage: String(map.heroImage || \"\").trim(),\n                        logo: String(map.logo || \"\").trim()\n                    });\n                }\n            }\n            try {\n                const j = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(fp, \"utf8\"));\n                return res.status(200).json(j);\n            } catch  {\n                return res.status(200).json({\n                    heroImage: \"\",\n                    logo: \"\"\n                });\n            }\n        }\n        if (req.method === \"POST\") {\n            const ok = req.cookies && req.cookies.psp_admin === \"1\" || (req.headers.cookie || \"\").includes(\"psp_admin=1\");\n            if (!ok) return res.status(401).json({\n                error: \"unauthorized\"\n            });\n            let body = req.body;\n            if (typeof body === \"string\") {\n                try {\n                    body = JSON.parse(body);\n                } catch  {}\n            }\n            const supabaseUrl = process.env.SUPABASE_URL || \"\";\n            const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\n            if (supabaseUrl && supabaseKey) {\n                const client = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseKey);\n                const items = [];\n                if (Object.prototype.hasOwnProperty.call(body || {}, \"heroImage\")) items.push({\n                    key: \"heroImage\",\n                    value: String((body || {}).heroImage || \"\").trim()\n                });\n                if (Object.prototype.hasOwnProperty.call(body || {}, \"logo\")) items.push({\n                    key: \"logo\",\n                    value: String((body || {}).logo || \"\").trim()\n                });\n                if (items.length) {\n                    const { error } = await client.from(\"site_config\").upsert(items, {\n                        onConflict: \"key\"\n                    });\n                    if (error) return res.status(500).json({\n                        error: String(error.message || error)\n                    });\n                }\n                const { data } = await client.from(\"site_config\").select(\"key,value\").in(\"key\", [\n                    \"heroImage\",\n                    \"logo\"\n                ]);\n                const map = Object.create(null)(data || []).forEach((r)=>{\n                    map[r.key] = r.value;\n                });\n                return res.status(200).json({\n                    heroImage: String(map.heroImage || \"\").trim(),\n                    logo: String(map.logo || \"\").trim()\n                });\n            }\n            let prev = {\n                heroImage: \"\",\n                logo: \"\"\n            };\n            try {\n                prev = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(fp, \"utf8\"));\n            } catch  {}\n            const hasHero = Object.prototype.hasOwnProperty.call(body || {}, \"heroImage\");\n            const hasLogo = Object.prototype.hasOwnProperty.call(body || {}, \"logo\");\n            const heroImage = hasHero ? String((body || {}).heroImage || \"\").trim() : String(prev.heroImage || \"\");\n            const logo = hasLogo ? String((body || {}).logo || \"\").trim() : String(prev.logo || \"\");\n            const next = {\n                heroImage,\n                logo\n            };\n            try {\n                fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(path__WEBPACK_IMPORTED_MODULE_1___default().dirname(fp), {\n                    recursive: true\n                });\n            } catch  {}\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(fp, JSON.stringify(next, null, 2));\n            return res.status(200).json(next);\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (e) {\n        res.status(500).json({\n            error: String(e?.message || e)\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEMsRUFBRSxPQUFNLENBQUM7WUFDVCxNQUFNbUQsVUFBVWpDLE9BQU93QixTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSixRQUFRLENBQUMsR0FBRztZQUNqRSxNQUFNWSxVQUFVbEMsT0FBT3dCLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNKLFFBQVEsQ0FBQyxHQUFHO1lBQ2pFLE1BQU1kLFlBQVl5QixVQUFVeEIsT0FBTyxDQUFDYSxRQUFRLENBQUMsR0FBR2QsU0FBUyxJQUFJLElBQUlFLElBQUksS0FBS0QsT0FBT3VCLEtBQUt4QixTQUFTLElBQUk7WUFDbkcsTUFBTUcsT0FBT3VCLFVBQVV6QixPQUFPLENBQUNhLFFBQVEsQ0FBQyxHQUFHWCxJQUFJLElBQUksSUFBSUQsSUFBSSxLQUFLRCxPQUFPdUIsS0FBS3JCLElBQUksSUFBSTtZQUNwRixNQUFNd0IsT0FBTztnQkFBRTNCO2dCQUFXRztZQUFLO1lBQy9CLElBQUk7Z0JBQUVuQyxtREFBWSxDQUFDQyxtREFBWSxDQUFDSyxLQUFLO29CQUFFd0QsV0FBVztnQkFBSztZQUFHLEVBQUUsT0FBTSxDQUFDO1lBQ25FOUQsdURBQWdCLENBQUNNLElBQUkrQixLQUFLMkIsU0FBUyxDQUFDTCxNQUFNLE1BQU07WUFDaEQsT0FBT3RELElBQUl5QixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDNEI7UUFDOUI7UUFDQSxPQUFPdEQsSUFBSXlCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRVosT0FBTztRQUFxQjtJQUM1RCxFQUFFLE9BQU84QyxHQUFHO1FBQ1Y1RCxJQUFJeUIsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFWixPQUFPYyxPQUFPZ0MsR0FBR1YsV0FBV1U7UUFBRztJQUN4RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGF3c2FmZXBsYW50cy8uL3BhZ2VzL2FwaS9zaXRlLWNvbmZpZy5qcz85YmY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmcCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnY29udGVudCcsICdzaXRlLmpzb24nKVxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIHx8ICcnXHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5TVVBBQkFTRV9BTk9OX0tFWSB8fCAnJ1xyXG4gICAgICBpZiAoc3VwYWJhc2VVcmwgJiYgc3VwYWJhc2VLZXkpIHtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KVxyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudC5mcm9tKCdzaXRlX2NvbmZpZycpLnNlbGVjdCgna2V5LHZhbHVlJykuaW4oJ2tleScsIFsnaGVyb0ltYWdlJywnbG9nbyddKVxyXG4gICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbClcclxuICAgICAgICAgIChkYXRhIHx8IFtdKS5mb3JFYWNoKHIgPT4geyBtYXBbci5rZXldID0gci52YWx1ZSB9KVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgaGVyb0ltYWdlOiBTdHJpbmcoKG1hcC5oZXJvSW1hZ2UgfHwgJycpKS50cmltKCksIGxvZ286IFN0cmluZygobWFwLmxvZ28gfHwgJycpKS50cmltKCkgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBqID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoZnAsICd1dGY4JykpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGopXHJcbiAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGhlcm9JbWFnZTogJycsIGxvZ286ICcnIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgY29uc3Qgb2sgPSAocmVxLmNvb2tpZXMgJiYgcmVxLmNvb2tpZXMucHNwX2FkbWluID09PSAnMScpIHx8IChyZXEuaGVhZGVycy5jb29raWUgfHwgJycpLmluY2x1ZGVzKCdwc3BfYWRtaW49MScpXHJcbiAgICAgIGlmICghb2spIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAndW5hdXRob3JpemVkJyB9KVxyXG4gICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHsgdHJ5IHsgYm9keSA9IEpTT04ucGFyc2UoYm9keSkgfSBjYXRjaCB7fSB9XHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIHx8ICcnXHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5TVVBBQkFTRV9BTk9OX0tFWSB8fCAnJ1xyXG4gICAgICBpZiAoc3VwYWJhc2VVcmwgJiYgc3VwYWJhc2VLZXkpIHtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KVxyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW11cclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJvZHkgfHwge30sICdoZXJvSW1hZ2UnKSkgaXRlbXMucHVzaCh7IGtleTogJ2hlcm9JbWFnZScsIHZhbHVlOiBTdHJpbmcoKGJvZHkgfHwge30pLmhlcm9JbWFnZSB8fCAnJykudHJpbSgpIH0pXHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChib2R5IHx8IHt9LCAnbG9nbycpKSBpdGVtcy5wdXNoKHsga2V5OiAnbG9nbycsIHZhbHVlOiBTdHJpbmcoKGJvZHkgfHwge30pLmxvZ28gfHwgJycpLnRyaW0oKSB9KVxyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGNsaWVudC5mcm9tKCdzaXRlX2NvbmZpZycpLnVwc2VydChpdGVtcywgeyBvbkNvbmZsaWN0OiAna2V5JyB9KVxyXG4gICAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogU3RyaW5nKGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IpIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgY2xpZW50LmZyb20oJ3NpdGVfY29uZmlnJykuc2VsZWN0KCdrZXksdmFsdWUnKS5pbigna2V5JywgWydoZXJvSW1hZ2UnLCdsb2dvJ10pXHJcbiAgICAgICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKVxyXG4gICAgICAgIChkYXRhIHx8IFtdKS5mb3JFYWNoKHIgPT4geyBtYXBbci5rZXldID0gci52YWx1ZSB9KVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGhlcm9JbWFnZTogU3RyaW5nKChtYXAuaGVyb0ltYWdlIHx8ICcnKSkudHJpbSgpLCBsb2dvOiBTdHJpbmcoKG1hcC5sb2dvIHx8ICcnKSkudHJpbSgpIH0pXHJcbiAgICAgIH1cclxuICAgICAgbGV0IHByZXYgPSB7IGhlcm9JbWFnZTogJycsIGxvZ286ICcnIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBwcmV2ID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoZnAsICd1dGY4JykpXHJcbiAgICAgIH0gY2F0Y2gge31cclxuICAgICAgY29uc3QgaGFzSGVybyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChib2R5IHx8IHt9LCAnaGVyb0ltYWdlJylcclxuICAgICAgY29uc3QgaGFzTG9nbyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChib2R5IHx8IHt9LCAnbG9nbycpXHJcbiAgICAgIGNvbnN0IGhlcm9JbWFnZSA9IGhhc0hlcm8gPyBTdHJpbmcoKGJvZHkgfHwge30pLmhlcm9JbWFnZSB8fCAnJykudHJpbSgpIDogU3RyaW5nKHByZXYuaGVyb0ltYWdlIHx8ICcnKVxyXG4gICAgICBjb25zdCBsb2dvID0gaGFzTG9nbyA/IFN0cmluZygoYm9keSB8fCB7fSkubG9nbyB8fCAnJykudHJpbSgpIDogU3RyaW5nKHByZXYubG9nbyB8fCAnJylcclxuICAgICAgY29uc3QgbmV4dCA9IHsgaGVyb0ltYWdlLCBsb2dvIH1cclxuICAgICAgdHJ5IHsgZnMubWtkaXJTeW5jKHBhdGguZGlybmFtZShmcCksIHsgcmVjdXJzaXZlOiB0cnVlIH0pIH0gY2F0Y2gge31cclxuICAgICAgZnMud3JpdGVGaWxlU3luYyhmcCwgSlNPTi5zdHJpbmdpZnkobmV4dCwgbnVsbCwgMikpXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXh0KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogU3RyaW5nKGU/Lm1lc3NhZ2UgfHwgZSkgfSlcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsImNyZWF0ZUNsaWVudCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJmcCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwibWV0aG9kIiwic3VwYWJhc2VVcmwiLCJlbnYiLCJTVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJTVVBBQkFTRV9BTk9OX0tFWSIsImNsaWVudCIsImRhdGEiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJpbiIsIm1hcCIsIk9iamVjdCIsImNyZWF0ZSIsImZvckVhY2giLCJyIiwia2V5IiwidmFsdWUiLCJzdGF0dXMiLCJqc29uIiwiaGVyb0ltYWdlIiwiU3RyaW5nIiwidHJpbSIsImxvZ28iLCJqIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwib2siLCJjb29raWVzIiwicHNwX2FkbWluIiwiaGVhZGVycyIsImNvb2tpZSIsImluY2x1ZGVzIiwiYm9keSIsIml0ZW1zIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicHVzaCIsImxlbmd0aCIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJtZXNzYWdlIiwicHJldiIsImhhc0hlcm8iLCJoYXNMb2dvIiwibmV4dCIsIm1rZGlyU3luYyIsImRpcm5hbWUiLCJyZWN1cnNpdmUiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/site-config.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsite-config&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csite-config.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();