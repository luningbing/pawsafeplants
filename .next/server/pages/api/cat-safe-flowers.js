"use strict";(()=>{var e={};e.id=5836,e.ids=[5836],e.modules={2885:e=>{e.exports=require("@supabase/supabase-js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},5458:(e,t,a)=>{a.r(t),a.d(t,{config:()=>g,default:()=>u,routeModule:()=>m});var r={};a.r(r),a.d(r,{default:()=>d});var s=a(1802),o=a(7153),n=a(6249),i=a(2885);let l=process.env.SUPABASE_URL||"",c=process.env.SUPABASE_SERVICE_ROLE_KEY||process.env.SUPABASE_ANON_KEY||"";l&&c||console.warn("Missing Supabase credentials for cat-safe-flowers API");let f=l&&c?(0,i.createClient)(l,c):null;async function d(e,t){try{if(t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),"OPTIONS"===e.method)return t.status(200).end();if("GET"===e.method)try{let e=[];if(f){let{data:t,error:a}=await f.from("media_metadata").select("*").or("is_flower.eq.true,category.eq.flower").order("created_at",{ascending:!1}).limit(50);!a&&t&&(e=t.map(e=>({id:e.id,name:e.display_name||e.file_path?.split("/").pop()?.replace(/\.(jpg|jpeg|png|webp)$/i,"")||"Unknown Flower",image:e.file_path,category:e.category||"flower",is_flower:e.is_flower||!1,created_at:e.created_at,updated_at:e.updated_at,toxicity_level:"Safe – generally non-toxic to cats",summary:`Beautiful ${e.display_name||"flower"} that is safe for cats. Perfect for cat-friendly homes and gardens.`})))}return 0===e.length&&(e=[{id:1,name:"Rose",image:"https://images.unsplash.com/photo-1518709594023-a7b5d2e4cf76?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Classic roses are safe for cats. Thorns may cause physical injury, but the plant itself is non-toxic. Perfect for romantic cat-safe bouquets.",created_at:new Date().toISOString(),scenarios:["bouquets","gift","weddings","anniversaries","valentines"]},{id:2,name:"Sunflower",image:"https://images.unsplash.com/photo-1506805945078-4b0c4d8d71b6?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Bright and cheerful sunflowers are completely safe for cats. Great for sunny arrangements and garden bouquets.",created_at:new Date().toISOString(),scenarios:["bouquets","gift","summer","birthdays","get-well"]},{id:3,name:"Daisy",image:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Innocent daisies are safe for cats and perfect for whimsical bouquets and casual flower arrangements.",created_at:new Date().toISOString(),scenarios:["bouquets","gift","casual","spring","everyday"]},{id:4,name:"Orchid",image:"https://images.unsplash.com/photo-1459411621453-7b03977f4bfc?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Elegant orchids are safe for cats and make sophisticated long-lasting arrangements for any occasion.",created_at:new Date().toISOString(),scenarios:["gift","elegant","home-decor","office","luxury"]},{id:5,name:"Zinnia",image:"https://images.unsplash.com/photo-1597818459942-2f9c4b8d0b9c?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Colorful zinnias are completely safe for cats and add vibrant beauty to garden bouquets and arrangements.",created_at:new Date().toISOString(),scenarios:["bouquets","garden","summer","colorful","cut-flowers"]},{id:6,name:"Marigold",image:"https://images.unsplash.com/photo-1598306943709-0d7d5d6e85b2?w=400&h=400&fit=crop",category:"flower",is_flower:!0,toxicity_level:"Safe – generally non-toxic to cats",summary:"Bright marigolds are safe for cats and perfect for festive arrangements and garden companion planting.",created_at:new Date().toISOString(),scenarios:["bouquets","garden","festive","fall","companion-planting"]}]),t.status(200).json({success:!0,flowers:e,scenarios:["bouquets","gift","arrangements","weddings","valentines","birthdays","anniversaries","get-well","sympathy","congratulations"],seo:{title:"Cat Safe Flowers - Complete Guide to Pet-Friendly Bouquets | PawSafePlants",description:"Discover beautiful cat-safe flowers for bouquets, gifts, and arrangements. Complete guide to pet-friendly flowers that keep your cats safe while adding beauty to your home.",keywords:"cat safe flowers, pet friendly bouquets, cat safe arrangements, non-toxic flowers for cats, cat safe gift flowers, pet friendly wedding flowers, cat safe garden flowers, feline safe bouquets"},total:e.length,last_updated:new Date().toISOString()})}catch(e){return console.error("Error fetching cat-safe flowers:",e),t.status(500).json({success:!1,error:"Failed to fetch cat-safe flowers",message:e.message})}if("POST"===e.method){let{name:a,image:r,category:s="flower",toxicity_level:o,summary:n,scenarios:i=[]}=e.body;if(!a||!r)return t.status(400).json({success:!1,error:"Name and image are required"});try{if(!f)return t.status(201).json({success:!0,flower:{id:Date.now(),name:a,image:r,category:s,is_flower:!0,created_at:new Date().toISOString()},message:"Cat-safe flower added successfully (demo mode)"});{let{data:e,error:o}=await f.from("media_metadata").insert({file_path:r,display_name:a,category:s,is_flower:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();if(o)throw o;return t.status(201).json({success:!0,flower:e[0],message:"Cat-safe flower added successfully"})}}catch(e){return console.error("Error adding cat-safe flower:",e),t.status(500).json({success:!1,error:"Failed to add cat-safe flower",message:e.message})}}return t.status(405).json({success:!1,error:"Method not allowed"})}catch(e){return console.error("Unexpected error in cat-safe-flowers API:",e),t.status(500).json({success:!1,error:"Internal server error",message:e.message})}}let u=(0,n.l)(r,"default"),g=(0,n.l)(r,"config"),m=new s.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/cat-safe-flowers",pathname:"/api/cat-safe-flowers",bundlePath:"",filename:""},userland:r})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=5458);module.exports=a})();