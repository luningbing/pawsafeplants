"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/hero-carousel-db";
exports.ids = ["pages/api/hero-carousel-db"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\hero-carousel-db.js */ \"(api)/./pages/api/hero-carousel-db.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/hero-carousel-db\",\n        pathname: \"/api/hero-carousel-db\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmhlcm8tY2Fyb3VzZWwtZGImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2hlcm8tY2Fyb3VzZWwtZGIuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXdzYWZlcGxhbnRzLz9kMjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcaGVyby1jYXJvdXNlbC1kYi5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2hlcm8tY2Fyb3VzZWwtZGJcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9oZXJvLWNhcm91c2VsLWRiXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/hero-carousel-db.js":
/*!***************************************!*\
  !*** ./pages/api/hero-carousel-db.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Initialize Supabase client\nconst supabaseUrl = process.env.SUPABASE_URL || \"\";\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\nasync function handler(req, res) {\n    try {\n        console.log(\"Hero carousel API called:\", req.method);\n        if (req.method === \"GET\") {\n            console.log(\"Reading hero carousel data from database\");\n            try {\n                const { data, error } = await supabase.from(\"hero_carousel\").select(\"*\").order(\"created_at\", {\n                    ascending: false\n                }).limit(1);\n                if (error) {\n                    console.error(\"Database read error:\", error);\n                    // Fallback to default data\n                    return res.status(200).json(getDefaultHeroData());\n                }\n                if (data && data.length > 0) {\n                    const heroData = data[0].content;\n                    console.log(\"Found hero data in database:\", heroData);\n                    return res.status(200).json(heroData);\n                } else {\n                    console.log(\"No hero data found, using default\");\n                    return res.status(200).json(getDefaultHeroData());\n                }\n            } catch (dbError) {\n                console.error(\"Database connection error:\", dbError);\n                return res.status(200).json(getDefaultHeroData());\n            }\n        }\n        if (req.method === \"POST\") {\n            console.log(\"Saving hero carousel data to database\");\n            const { slides } = req.body;\n            console.log(\"Received slides:\", slides);\n            if (!slides || !Array.isArray(slides)) {\n                console.error(\"Invalid slides data:\", slides);\n                return res.status(400).json({\n                    error: \"Invalid slides data\"\n                });\n            }\n            // 确保总是有3个slide\n            const validSlides = [];\n            for(let i = 0; i < 3; i++){\n                const slide = slides[i];\n                validSlides.push(slide || {\n                    imageUrl: `/images/hero-${i + 1}.jpg`,\n                    title: `Slide ${i + 1}`,\n                    subtitle: \"Default subtitle\",\n                    link: \"\"\n                });\n            }\n            const heroData = {\n                slides: validSlides,\n                updatedAt: new Date().toISOString()\n            };\n            console.log(\"Hero data to save:\", heroData);\n            try {\n                // First, try to update existing record\n                const { data: existingData, error: fetchError } = await supabase.from(\"hero_carousel\").select(\"*\").order(\"created_at\", {\n                    ascending: false\n                }).limit(1);\n                if (fetchError) {\n                    console.error(\"Fetch error:\", fetchError);\n                    return res.status(500).json({\n                        error: \"Database fetch error: \" + fetchError.message\n                    });\n                }\n                if (existingData && existingData.length > 0) {\n                    // Update existing record\n                    const { data: updateData, error: updateError } = await supabase.from(\"hero_carousel\").update({\n                        content: heroData\n                    }).eq(\"id\", existingData[0].id);\n                    if (updateError) {\n                        console.error(\"Update error:\", updateError);\n                        return res.status(500).json({\n                            error: \"Database update error: \" + updateError.message\n                        });\n                    }\n                    console.log(\"Hero data updated successfully\");\n                } else {\n                    // Insert new record\n                    const { data: insertData, error: insertError } = await supabase.from(\"hero_carousel\").insert({\n                        content: heroData\n                    });\n                    if (insertError) {\n                        console.error(\"Insert error:\", insertError);\n                        return res.status(500).json({\n                            error: \"Database insert error: \" + insertError.message\n                        });\n                    }\n                    console.log(\"Hero data inserted successfully\");\n                }\n                return res.status(200).json(heroData);\n            } catch (dbError) {\n                console.error(\"Database operation error:\", dbError);\n                return res.status(500).json({\n                    error: \"Database operation error: \" + dbError.message\n                });\n            }\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Hero carousel API error:\", error);\n        return res.status(500).json({\n            error: \"Internal server error: \" + error.message\n        });\n    }\n}\nfunction getDefaultHeroData() {\n    return {\n        slides: [\n            {\n                imageUrl: \"/images/hero-1.jpg\",\n                title: \"Cat-Safe Plants for Your Home\",\n                subtitle: \"Create a beautiful, pet-friendly living space\",\n                link: \"/plants/safe\"\n            },\n            {\n                imageUrl: \"/images/hero-2.jpg\",\n                title: \"Toxic Plants to Avoid\",\n                subtitle: \"Protect your feline friends from harmful plants\",\n                link: \"/plants/toxic\"\n            },\n            {\n                imageUrl: \"/images/hero-3.jpg\",\n                title: \"Plant Care Guide\",\n                subtitle: \"Learn how to care for your green companions\",\n                link: \"/plants/caution\"\n            }\n        ]\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7Z0JBQ2Q7Z0JBRUEsT0FBT0YsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0c7WUFDOUIsRUFBRSxPQUFPRSxTQUFTO2dCQUNoQmhCLFFBQVFJLEtBQUssQ0FBQyw2QkFBNkJZO2dCQUMzQyxPQUFPakIsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRVAsT0FBTywrQkFBK0JZLFFBQVFrQixPQUFPO2dCQUFDO1lBQ3RGO1FBQ0Y7UUFFQSxPQUFPbkMsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFUCxPQUFPO1FBQXFCO0lBQzVELEVBQUUsT0FBT0EsT0FBTztRQUNkSixRQUFRSSxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPTCxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVQLE9BQU8sNEJBQTRCQSxNQUFNOEIsT0FBTztRQUFDO0lBQ2pGO0FBQ0Y7QUFFQSxTQUFTdEI7SUFDUCxPQUFPO1FBQ0xLLFFBQVE7WUFDTjtnQkFDRVEsVUFBVTtnQkFDVkMsT0FBTztnQkFDUEMsVUFBVTtnQkFDVkMsTUFBTTtZQUNSO1lBQ0E7Z0JBQ0VILFVBQVU7Z0JBQ1ZDLE9BQU87Z0JBQ1BDLFVBQVU7Z0JBQ1ZDLE1BQU07WUFDUjtZQUNBO2dCQUNFSCxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxNQUFNO1lBQ1I7U0FDRDtJQUNIO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXdzYWZlcGxhbnRzLy4vcGFnZXMvYXBpL2hlcm8tY2Fyb3VzZWwtZGIuanM/YWQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG4vLyBJbml0aWFsaXplIFN1cGFiYXNlIGNsaWVudFxyXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCB8fCAnJ1xyXG5jb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfQU5PTl9LRVkgfHwgJydcclxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnSGVybyBjYXJvdXNlbCBBUEkgY2FsbGVkOicsIHJlcS5tZXRob2QpO1xyXG4gICAgXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1JlYWRpbmcgaGVybyBjYXJvdXNlbCBkYXRhIGZyb20gZGF0YWJhc2UnKTtcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdoZXJvX2Nhcm91c2VsJylcclxuICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgICAubGltaXQoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSByZWFkIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgZGF0YVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdldERlZmF1bHRIZXJvRGF0YSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBoZXJvRGF0YSA9IGRhdGFbMF0uY29udGVudDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBoZXJvIGRhdGEgaW4gZGF0YWJhc2U6JywgaGVyb0RhdGEpO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGhlcm9EYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIGhlcm8gZGF0YSBmb3VuZCwgdXNpbmcgZGVmYXVsdCcpO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdldERlZmF1bHRIZXJvRGF0YSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGRiRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihnZXREZWZhdWx0SGVyb0RhdGEoKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGhlcm8gY2Fyb3VzZWwgZGF0YSB0byBkYXRhYmFzZScpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBzbGlkZXMgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgc2xpZGVzOicsIHNsaWRlcyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNsaWRlcyB8fCAhQXJyYXkuaXNBcnJheShzbGlkZXMpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBzbGlkZXMgZGF0YTonLCBzbGlkZXMpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBzbGlkZXMgZGF0YScgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOehruS/neaAu+aYr+aciTPkuKpzbGlkZVxyXG4gICAgICBjb25zdCB2YWxpZFNsaWRlcyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsaWRlID0gc2xpZGVzW2ldO1xyXG4gICAgICAgIHZhbGlkU2xpZGVzLnB1c2goc2xpZGUgfHwge1xyXG4gICAgICAgICAgaW1hZ2VVcmw6IGAvaW1hZ2VzL2hlcm8tJHtpICsgMX0uanBnYCxcclxuICAgICAgICAgIHRpdGxlOiBgU2xpZGUgJHtpICsgMX1gLFxyXG4gICAgICAgICAgc3VidGl0bGU6ICdEZWZhdWx0IHN1YnRpdGxlJyxcclxuICAgICAgICAgIGxpbms6ICcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGhlcm9EYXRhID0ge1xyXG4gICAgICAgIHNsaWRlczogdmFsaWRTbGlkZXMsXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdIZXJvIGRhdGEgdG8gc2F2ZTonLCBoZXJvRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEZpcnN0LCB0cnkgdG8gdXBkYXRlIGV4aXN0aW5nIHJlY29yZFxyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdEYXRhLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdoZXJvX2Nhcm91c2VsJylcclxuICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgICAubGltaXQoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGZldGNoRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZldGNoIGVycm9yOicsIGZldGNoRXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBmZXRjaCBlcnJvcjogJyArIGZldGNoRXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nRGF0YSAmJiBleGlzdGluZ0RhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHJlY29yZFxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVEYXRhLCBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCdoZXJvX2Nhcm91c2VsJylcclxuICAgICAgICAgICAgLnVwZGF0ZSh7IGNvbnRlbnQ6IGhlcm9EYXRhIH0pXHJcbiAgICAgICAgICAgIC5lcSgnaWQnLCBleGlzdGluZ0RhdGFbMF0uaWQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIGVycm9yOicsIHVwZGF0ZUVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSB1cGRhdGUgZXJyb3I6ICcgKyB1cGRhdGVFcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnSGVybyBkYXRhIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEluc2VydCBuZXcgcmVjb3JkXHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGluc2VydERhdGEsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ2hlcm9fY2Fyb3VzZWwnKVxyXG4gICAgICAgICAgICAuaW5zZXJ0KHsgY29udGVudDogaGVyb0RhdGEgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChpbnNlcnRFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnNlcnQgZXJyb3I6JywgaW5zZXJ0RXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0RhdGFiYXNlIGluc2VydCBlcnJvcjogJyArIGluc2VydEVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdIZXJvIGRhdGEgaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihoZXJvRGF0YSk7XHJcbiAgICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBvcGVyYXRpb24gZXJyb3I6JywgZGJFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBvcGVyYXRpb24gZXJyb3I6ICcgKyBkYkVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdIZXJvIGNhcm91c2VsIEFQSSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREZWZhdWx0SGVyb0RhdGEoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHNsaWRlczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgaW1hZ2VVcmw6ICcvaW1hZ2VzL2hlcm8tMS5qcGcnLFxyXG4gICAgICAgIHRpdGxlOiAnQ2F0LVNhZmUgUGxhbnRzIGZvciBZb3VyIEhvbWUnLFxyXG4gICAgICAgIHN1YnRpdGxlOiAnQ3JlYXRlIGEgYmVhdXRpZnVsLCBwZXQtZnJpZW5kbHkgbGl2aW5nIHNwYWNlJyxcclxuICAgICAgICBsaW5rOiAnL3BsYW50cy9zYWZlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaW1hZ2VVcmw6ICcvaW1hZ2VzL2hlcm8tMi5qcGcnLFxyXG4gICAgICAgIHRpdGxlOiAnVG94aWMgUGxhbnRzIHRvIEF2b2lkJywgXHJcbiAgICAgICAgc3VidGl0bGU6ICdQcm90ZWN0IHlvdXIgZmVsaW5lIGZyaWVuZHMgZnJvbSBoYXJtZnVsIHBsYW50cycsXHJcbiAgICAgICAgbGluazogJy9wbGFudHMvdG94aWMnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpbWFnZVVybDogJy9pbWFnZXMvaGVyby0zLmpwZycsXHJcbiAgICAgICAgdGl0bGU6ICdQbGFudCBDYXJlIEd1aWRlJyxcclxuICAgICAgICBzdWJ0aXRsZTogJ0xlYXJuIGhvdyB0byBjYXJlIGZvciB5b3VyIGdyZWVuIGNvbXBhbmlvbnMnLCBcclxuICAgICAgICBsaW5rOiAnL3BsYW50cy9jYXV0aW9uJ1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibGltaXQiLCJzdGF0dXMiLCJqc29uIiwiZ2V0RGVmYXVsdEhlcm9EYXRhIiwibGVuZ3RoIiwiaGVyb0RhdGEiLCJjb250ZW50IiwiZGJFcnJvciIsInNsaWRlcyIsImJvZHkiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWxpZFNsaWRlcyIsImkiLCJzbGlkZSIsInB1c2giLCJpbWFnZVVybCIsInRpdGxlIiwic3VidGl0bGUiLCJsaW5rIiwidXBkYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXhpc3RpbmdEYXRhIiwiZmV0Y2hFcnJvciIsIm1lc3NhZ2UiLCJ1cGRhdGVEYXRhIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJlcSIsImlkIiwiaW5zZXJ0RGF0YSIsImluc2VydEVycm9yIiwiaW5zZXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/hero-carousel-db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();