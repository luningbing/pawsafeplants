"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/hero-carousel-db";
exports.ids = ["pages/api/hero-carousel-db"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\hero-carousel-db.js */ \"(api)/./pages/api/hero-carousel-db.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/hero-carousel-db\",\n        pathname: \"/api/hero-carousel-db\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_hero_carousel_db_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmhlcm8tY2Fyb3VzZWwtZGImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2hlcm8tY2Fyb3VzZWwtZGIuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXdzYWZlcGxhbnRzLz9kMjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcaGVyby1jYXJvdXNlbC1kYi5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2hlcm8tY2Fyb3VzZWwtZGJcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9oZXJvLWNhcm91c2VsLWRiXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/hero-carousel-db.js":
/*!***************************************!*\
  !*** ./pages/api/hero-carousel-db.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// Initialize Supabase client\nconst supabaseUrl = process.env.SUPABASE_URL || \"\";\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseKey);\nasync function handler(req, res) {\n    try {\n        console.log(\"Hero carousel API called:\", req.method);\n        if (req.method === \"GET\") {\n            console.log(\"Reading hero carousel data from database\");\n            try {\n                const { data, error } = await supabase.from(\"hero_carousel\").select(\"*\").order(\"created_at\", {\n                    ascending: false\n                }).limit(1);\n                if (error) {\n                    console.error(\"Database read error:\", error);\n                    // Fallback to default data\n                    return res.status(200).json(getDefaultHeroData());\n                }\n                if (data && data.length > 0) {\n                    const heroData = data[0].content;\n                    console.log(\"Found hero data in database:\", heroData);\n                    // Convert image paths to new format\n                    if (heroData.slides && Array.isArray(heroData.slides)) {\n                        heroData.slides = heroData.slides.map((slide)=>({\n                                ...slide,\n                                imageUrl: validateImagePath(convertImagePath(slide.imageUrl))\n                            }));\n                    }\n                    console.log(\"Converted hero data:\", heroData);\n                    return res.status(200).json(heroData);\n                } else {\n                    console.log(\"No hero data found, using default\");\n                    return res.status(200).json(getDefaultHeroData());\n                }\n            } catch (dbError) {\n                console.error(\"Database connection error:\", dbError);\n                return res.status(200).json(getDefaultHeroData());\n            }\n        }\n        if (req.method === \"POST\") {\n            console.log(\"Saving hero carousel data to database\");\n            const { slides } = req.body;\n            console.log(\"Received slides:\", slides);\n            if (!slides || !Array.isArray(slides)) {\n                console.error(\"Invalid slides data:\", slides);\n                return res.status(400).json({\n                    error: \"Invalid slides data\"\n                });\n            }\n            // 确保总是有3个slide\n            const validSlides = [];\n            for(let i = 0; i < 3; i++){\n                const slide = slides[i];\n                validSlides.push(slide || {\n                    imageUrl: `/images/hero-${i + 1}.jpg`,\n                    title: `Slide ${i + 1}`,\n                    subtitle: \"Default subtitle\",\n                    link: \"\"\n                });\n            }\n            const heroData = {\n                slides: validSlides,\n                updatedAt: new Date().toISOString()\n            };\n            console.log(\"Hero data to save:\", heroData);\n            try {\n                // First, try to update existing record\n                const { data: existingData, error: fetchError } = await supabase.from(\"hero_carousel\").select(\"*\").order(\"created_at\", {\n                    ascending: false\n                }).limit(1);\n                if (fetchError) {\n                    console.error(\"Fetch error:\", fetchError);\n                    return res.status(500).json({\n                        error: \"Database fetch error: \" + fetchError.message\n                    });\n                }\n                if (existingData && existingData.length > 0) {\n                    // Update existing record\n                    const { data: updateData, error: updateError } = await supabase.from(\"hero_carousel\").update({\n                        content: heroData\n                    }).eq(\"id\", existingData[0].id);\n                    if (updateError) {\n                        console.error(\"Update error:\", updateError);\n                        return res.status(500).json({\n                            error: \"Database update error: \" + updateError.message\n                        });\n                    }\n                    console.log(\"Hero data updated successfully\");\n                } else {\n                    // Insert new record\n                    const { data: insertData, error: insertError } = await supabase.from(\"hero_carousel\").insert({\n                        content: heroData\n                    });\n                    if (insertError) {\n                        console.error(\"Insert error:\", insertError);\n                        return res.status(500).json({\n                            error: \"Database insert error: \" + insertError.message\n                        });\n                    }\n                    console.log(\"Hero data inserted successfully\");\n                }\n                return res.status(200).json(heroData);\n            } catch (dbError) {\n                console.error(\"Database operation error:\", dbError);\n                return res.status(500).json({\n                    error: \"Database operation error: \" + dbError.message\n                });\n            }\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Hero carousel API error:\", error);\n        return res.status(500).json({\n            error: \"Internal server error: \" + error.message\n        });\n    }\n}\nfunction getDefaultHeroData() {\n    return {\n        slides: [\n            {\n                imageUrl: \"/uploads/20250530-190020.jpg\",\n                title: \"Cat-Safe Plants for Your Home\",\n                subtitle: \"Create a beautiful, pet-friendly living space\",\n                link: \"/plants/safe\"\n            },\n            {\n                imageUrl: \"/uploads/_247026d4-f09b-4307-9d55-65b40bd2813c.jpg\",\n                title: \"Toxic Plants to Avoid\",\n                subtitle: \"Protect your feline friends from harmful plants\",\n                link: \"/plants/toxic\"\n            },\n            {\n                imageUrl: \"/uploads/7ae0aff1-4b60-4c05-aa34-fcd6a9ea3dd2_7930717a90c33c714f1ae8d742554593_ComfyUI_033fc57d_00001_.png\",\n                title: \"Plant Care Guide\",\n                subtitle: \"Learn how to care for your green companions\",\n                link: \"/plants/caution\"\n            }\n        ]\n    };\n}\n// Function to convert old image paths to new paths\nfunction convertImagePath(imageUrl) {\n    if (!imageUrl) return imageUrl;\n    // Convert /images/plants/ to /uploads/\n    if (imageUrl.startsWith(\"/images/plants/\")) {\n        const filename = imageUrl.split(\"/\").pop();\n        return `/uploads/${filename}`;\n    }\n    // Convert /images/ to /uploads/\n    if (imageUrl.startsWith(\"/images/\") && !imageUrl.startsWith(\"/images/plants/\")) {\n        const filename = imageUrl.split(\"/\").pop();\n        return `/uploads/${filename}`;\n    }\n    return imageUrl; // Keep /uploads/ unchanged\n}\n// Function to check if file exists and return fallback if needed\nfunction validateImagePath(imageUrl) {\n    if (!imageUrl) return \"/images/hero-1.jpg\";\n    // For production, we can't check filesystem, so use known good images\n    const knownValidImages = [\n        \"/uploads/20250530-190020.jpg\",\n        \"/uploads/_247026d4-f09b-4307-9d55-65b40bd2813c.jpg\",\n        \"/uploads/7ae0aff1-4b60-4c05-aa34-fcd6a9ea3dd2_7930717a90c33c714f1ae8d742554593_ComfyUI_033fc57d_00001_.png\"\n    ];\n    // Handle Supabase storage URLs\n    if (imageUrl.includes(\"supabase.co/storage/v1/object/public/uploads/\")) {\n        console.log(\"Found Supabase URL, keeping as is:\", imageUrl);\n        return imageUrl; // Keep Supabase URLs as they are\n    }\n    if (knownValidImages.includes(imageUrl)) {\n        return imageUrl;\n    }\n    // For any other path, return a default image\n    console.log(\"Invalid image path, using fallback:\", imageUrl);\n    return \"/images/hero-1.jpg\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvaGVyby1jYXJvdXNlbC1kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW1CO0FBQ0k7QUFDNkI7QUFFcEQsNkJBQTZCO0FBQzdCLE1BQU1HLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO0FBQ2hELE1BQU1DLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0cseUJBQXlCLElBQUlKLFFBQVFDLEdBQUcsQ0FBQ0ksaUJBQWlCLElBQUk7QUFDOUYsTUFBTUMsV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJO0FBRTVCLGVBQWVJLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkJILElBQUlJLE1BQU07UUFFbkQsSUFBSUosSUFBSUksTUFBTSxLQUFLLE9BQU87WUFDeEJGLFFBQVFDLEdBQUcsQ0FBQztZQUVaLElBQUk7Z0JBQ0YsTUFBTSxFQUFFRSxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLFNBQzNCUyxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxLQUFLLENBQUMsY0FBYztvQkFBRUMsV0FBVztnQkFBTSxHQUN2Q0MsS0FBSyxDQUFDO2dCQUVULElBQUlMLE9BQU87b0JBQ1RKLFFBQVFJLEtBQUssQ0FBQyx3QkFBd0JBO29CQUN0QywyQkFBMkI7b0JBQzNCLE9BQU9MLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNDO2dCQUM5QjtnQkFFQSxJQUFJVCxRQUFRQSxLQUFLVSxNQUFNLEdBQUcsR0FBRztvQkFDM0IsTUFBTUMsV0FBV1gsSUFBSSxDQUFDLEVBQUUsQ0FBQ1ksT0FBTztvQkFDaENmLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NhO29CQUU1QyxvQ0FBb0M7b0JBQ3BDLElBQUlBLFNBQVNFLE1BQU0sSUFBSUMsTUFBTUMsT0FBTyxDQUFDSixTQUFTRSxNQUFNLEdBQUc7d0JBQ3JERixTQUFTRSxNQUFNLEdBQUdGLFNBQVNFLE1BQU0sQ0FBQ0csR0FBRyxDQUFDQyxDQUFBQSxRQUFVO2dDQUM5QyxHQUFHQSxLQUFLO2dDQUNSQyxVQUFVQyxrQkFBa0JDLGlCQUFpQkgsTUFBTUMsUUFBUTs0QkFDN0Q7b0JBQ0Y7b0JBRUFyQixRQUFRQyxHQUFHLENBQUMsd0JBQXdCYTtvQkFDcEMsT0FBT2YsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0c7Z0JBQzlCLE9BQU87b0JBQ0xkLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPRixJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDQztnQkFDOUI7WUFDRixFQUFFLE9BQU9ZLFNBQVM7Z0JBQ2hCeEIsUUFBUUksS0FBSyxDQUFDLDhCQUE4Qm9CO2dCQUM1QyxPQUFPekIsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0M7WUFDOUI7UUFDRjtRQUVBLElBQUlkLElBQUlJLE1BQU0sS0FBSyxRQUFRO1lBQ3pCRixRQUFRQyxHQUFHLENBQUM7WUFFWixNQUFNLEVBQUVlLE1BQU0sRUFBRSxHQUFHbEIsSUFBSTJCLElBQUk7WUFDM0J6QixRQUFRQyxHQUFHLENBQUMsb0JBQW9CZTtZQUVoQyxJQUFJLENBQUNBLFVBQVUsQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixTQUFTO2dCQUNyQ2hCLFFBQVFJLEtBQUssQ0FBQyx3QkFBd0JZO2dCQUN0QyxPQUFPakIsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRVAsT0FBTztnQkFBc0I7WUFDN0Q7WUFFQSxlQUFlO1lBQ2YsTUFBTXNCLGNBQWMsRUFBRTtZQUN0QixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFLO2dCQUMxQixNQUFNUCxRQUFRSixNQUFNLENBQUNXLEVBQUU7Z0JBQ3ZCRCxZQUFZRSxJQUFJLENBQUNSLFNBQVM7b0JBQ3hCQyxVQUFVLENBQUMsYUFBYSxFQUFFTSxJQUFJLEVBQUUsSUFBSSxDQUFDO29CQUNyQ0UsT0FBTyxDQUFDLE1BQU0sRUFBRUYsSUFBSSxFQUFFLENBQUM7b0JBQ3ZCRyxVQUFVO29CQUNWQyxNQUFNO2dCQUNSO1lBQ0Y7WUFFQSxNQUFNakIsV0FBVztnQkFDZkUsUUFBUVU7Z0JBQ1JNLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNuQztZQUVBbEMsUUFBUUMsR0FBRyxDQUFDLHNCQUFzQmE7WUFFbEMsSUFBSTtnQkFDRix1Q0FBdUM7Z0JBQ3ZDLE1BQU0sRUFBRVgsTUFBTWdDLFlBQVksRUFBRS9CLE9BQU9nQyxVQUFVLEVBQUUsR0FBRyxNQUFNeEMsU0FDckRTLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLEtBQUssQ0FBQyxjQUFjO29CQUFFQyxXQUFXO2dCQUFNLEdBQ3ZDQyxLQUFLLENBQUM7Z0JBRVQsSUFBSTJCLFlBQVk7b0JBQ2RwQyxRQUFRSSxLQUFLLENBQUMsZ0JBQWdCZ0M7b0JBQzlCLE9BQU9yQyxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUFFUCxPQUFPLDJCQUEyQmdDLFdBQVdDLE9BQU87b0JBQUM7Z0JBQ3JGO2dCQUVBLElBQUlGLGdCQUFnQkEsYUFBYXRCLE1BQU0sR0FBRyxHQUFHO29CQUMzQyx5QkFBeUI7b0JBQ3pCLE1BQU0sRUFBRVYsTUFBTW1DLFVBQVUsRUFBRWxDLE9BQU9tQyxXQUFXLEVBQUUsR0FBRyxNQUFNM0MsU0FDcERTLElBQUksQ0FBQyxpQkFDTG1DLE1BQU0sQ0FBQzt3QkFBRXpCLFNBQVNEO29CQUFTLEdBQzNCMkIsRUFBRSxDQUFDLE1BQU1OLFlBQVksQ0FBQyxFQUFFLENBQUNPLEVBQUU7b0JBRTlCLElBQUlILGFBQWE7d0JBQ2Z2QyxRQUFRSSxLQUFLLENBQUMsaUJBQWlCbUM7d0JBQy9CLE9BQU94QyxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDOzRCQUFFUCxPQUFPLDRCQUE0Qm1DLFlBQVlGLE9BQU87d0JBQUM7b0JBQ3ZGO29CQUVBckMsUUFBUUMsR0FBRyxDQUFDO2dCQUNkLE9BQU87b0JBQ0wsb0JBQW9CO29CQUNwQixNQUFNLEVBQUVFLE1BQU13QyxVQUFVLEVBQUV2QyxPQUFPd0MsV0FBVyxFQUFFLEdBQUcsTUFBTWhELFNBQ3BEUyxJQUFJLENBQUMsaUJBQ0x3QyxNQUFNLENBQUM7d0JBQUU5QixTQUFTRDtvQkFBUztvQkFFOUIsSUFBSThCLGFBQWE7d0JBQ2Y1QyxRQUFRSSxLQUFLLENBQUMsaUJBQWlCd0M7d0JBQy9CLE9BQU83QyxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDOzRCQUFFUCxPQUFPLDRCQUE0QndDLFlBQVlQLE9BQU87d0JBQUM7b0JBQ3ZGO29CQUVBckMsUUFBUUMsR0FBRyxDQUFDO2dCQUNkO2dCQUVBLE9BQU9GLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNHO1lBQzlCLEVBQUUsT0FBT1UsU0FBUztnQkFDaEJ4QixRQUFRSSxLQUFLLENBQUMsNkJBQTZCb0I7Z0JBQzNDLE9BQU96QixJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFUCxPQUFPLCtCQUErQm9CLFFBQVFhLE9BQU87Z0JBQUM7WUFDdEY7UUFDRjtRQUVBLE9BQU90QyxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVQLE9BQU87UUFBcUI7SUFDNUQsRUFBRSxPQUFPQSxPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9MLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRVAsT0FBTyw0QkFBNEJBLE1BQU1pQyxPQUFPO1FBQUM7SUFDakY7QUFDRjtBQUVBLFNBQVN6QjtJQUNQLE9BQU87UUFDTEksUUFBUTtZQUNOO2dCQUNFSyxVQUFVO2dCQUNWUSxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxNQUFNO1lBQ1I7WUFDQTtnQkFDRVYsVUFBVTtnQkFDVlEsT0FBTztnQkFDUEMsVUFBVTtnQkFDVkMsTUFBTTtZQUNSO1lBQ0E7Z0JBQ0VWLFVBQVU7Z0JBQ1ZRLE9BQU87Z0JBQ1BDLFVBQVU7Z0JBQ1ZDLE1BQU07WUFDUjtTQUNEO0lBQ0g7QUFDRjtBQUVBLG1EQUFtRDtBQUNuRCxTQUFTUixpQkFBaUJGLFFBQVE7SUFDaEMsSUFBSSxDQUFDQSxVQUFVLE9BQU9BO0lBRXRCLHVDQUF1QztJQUN2QyxJQUFJQSxTQUFTeUIsVUFBVSxDQUFDLG9CQUFvQjtRQUMxQyxNQUFNQyxXQUFXMUIsU0FBUzJCLEtBQUssQ0FBQyxLQUFLQyxHQUFHO1FBQ3hDLE9BQU8sQ0FBQyxTQUFTLEVBQUVGLFNBQVMsQ0FBQztJQUMvQjtJQUVBLGdDQUFnQztJQUNoQyxJQUFJMUIsU0FBU3lCLFVBQVUsQ0FBQyxlQUFlLENBQUN6QixTQUFTeUIsVUFBVSxDQUFDLG9CQUFvQjtRQUM5RSxNQUFNQyxXQUFXMUIsU0FBUzJCLEtBQUssQ0FBQyxLQUFLQyxHQUFHO1FBQ3hDLE9BQU8sQ0FBQyxTQUFTLEVBQUVGLFNBQVMsQ0FBQztJQUMvQjtJQUVBLE9BQU8xQixVQUFVLDJCQUEyQjtBQUM5QztBQUVBLGlFQUFpRTtBQUNqRSxTQUFTQyxrQkFBa0JELFFBQVE7SUFDakMsSUFBSSxDQUFDQSxVQUFVLE9BQU87SUFFdEIsc0VBQXNFO0lBQ3RFLE1BQU02QixtQkFBbUI7UUFDdkI7UUFDQTtRQUNBO0tBQ0Q7SUFFRCwrQkFBK0I7SUFDL0IsSUFBSTdCLFNBQVM4QixRQUFRLENBQUMsa0RBQWtEO1FBQ3RFbkQsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQ29CO1FBQ2xELE9BQU9BLFVBQVUsaUNBQWlDO0lBQ3BEO0lBRUEsSUFBSTZCLGlCQUFpQkMsUUFBUSxDQUFDOUIsV0FBVztRQUN2QyxPQUFPQTtJQUNUO0lBRUEsNkNBQTZDO0lBQzdDckIsUUFBUUMsR0FBRyxDQUFDLHVDQUF1Q29CO0lBQ25ELE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Bhd3NhZmVwbGFudHMvLi9wYWdlcy9hcGkvaGVyby1jYXJvdXNlbC1kYi5qcz9hZDllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBTdXBhYmFzZSBjbGllbnRcclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwgfHwgJydcclxuY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZIHx8ICcnXHJcbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0hlcm8gY2Fyb3VzZWwgQVBJIGNhbGxlZDonLCByZXEubWV0aG9kKTtcclxuICAgIFxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZWFkaW5nIGhlcm8gY2Fyb3VzZWwgZGF0YSBmcm9tIGRhdGFiYXNlJyk7XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnaGVyb19jYXJvdXNlbCcpXHJcbiAgICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgICAgLmxpbWl0KDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcmVhZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBkZWZhdWx0IGRhdGFcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihnZXREZWZhdWx0SGVyb0RhdGEoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgaGVyb0RhdGEgPSBkYXRhWzBdLmNvbnRlbnQ7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgaGVybyBkYXRhIGluIGRhdGFiYXNlOicsIGhlcm9EYXRhKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ29udmVydCBpbWFnZSBwYXRocyB0byBuZXcgZm9ybWF0XHJcbiAgICAgICAgICBpZiAoaGVyb0RhdGEuc2xpZGVzICYmIEFycmF5LmlzQXJyYXkoaGVyb0RhdGEuc2xpZGVzKSkge1xyXG4gICAgICAgICAgICBoZXJvRGF0YS5zbGlkZXMgPSBoZXJvRGF0YS5zbGlkZXMubWFwKHNsaWRlID0+ICh7XHJcbiAgICAgICAgICAgICAgLi4uc2xpZGUsXHJcbiAgICAgICAgICAgICAgaW1hZ2VVcmw6IHZhbGlkYXRlSW1hZ2VQYXRoKGNvbnZlcnRJbWFnZVBhdGgoc2xpZGUuaW1hZ2VVcmwpKVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb252ZXJ0ZWQgaGVybyBkYXRhOicsIGhlcm9EYXRhKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihoZXJvRGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBoZXJvIGRhdGEgZm91bmQsIHVzaW5nIGRlZmF1bHQnKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihnZXREZWZhdWx0SGVyb0RhdGEoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChkYkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjonLCBkYkVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oZ2V0RGVmYXVsdEhlcm9EYXRhKCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1NhdmluZyBoZXJvIGNhcm91c2VsIGRhdGEgdG8gZGF0YWJhc2UnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgc2xpZGVzIH0gPSByZXEuYm9keTtcclxuICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHNsaWRlczonLCBzbGlkZXMpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFzbGlkZXMgfHwgIUFycmF5LmlzQXJyYXkoc2xpZGVzKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgc2xpZGVzIGRhdGE6Jywgc2xpZGVzKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgc2xpZGVzIGRhdGEnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDnoa7kv53mgLvmmK/mnIkz5Liqc2xpZGVcclxuICAgICAgY29uc3QgdmFsaWRTbGlkZXMgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tpXTtcclxuICAgICAgICB2YWxpZFNsaWRlcy5wdXNoKHNsaWRlIHx8IHtcclxuICAgICAgICAgIGltYWdlVXJsOiBgL2ltYWdlcy9oZXJvLSR7aSArIDF9LmpwZ2AsXHJcbiAgICAgICAgICB0aXRsZTogYFNsaWRlICR7aSArIDF9YCxcclxuICAgICAgICAgIHN1YnRpdGxlOiAnRGVmYXVsdCBzdWJ0aXRsZScsXHJcbiAgICAgICAgICBsaW5rOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBoZXJvRGF0YSA9IHtcclxuICAgICAgICBzbGlkZXM6IHZhbGlkU2xpZGVzLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnSGVybyBkYXRhIHRvIHNhdmU6JywgaGVyb0RhdGEpO1xyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBGaXJzdCwgdHJ5IHRvIHVwZGF0ZSBleGlzdGluZyByZWNvcmRcclxuICAgICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nRGF0YSwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnaGVyb19jYXJvdXNlbCcpXHJcbiAgICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgICAgLmxpbWl0KDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChmZXRjaEVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGZXRjaCBlcnJvcjonLCBmZXRjaEVycm9yKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRGF0YWJhc2UgZmV0Y2ggZXJyb3I6ICcgKyBmZXRjaEVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChleGlzdGluZ0RhdGEgJiYgZXhpc3RpbmdEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyByZWNvcmRcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlRGF0YSwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbSgnaGVyb19jYXJvdXNlbCcpXHJcbiAgICAgICAgICAgIC51cGRhdGUoeyBjb250ZW50OiBoZXJvRGF0YSB9KVxyXG4gICAgICAgICAgICAuZXEoJ2lkJywgZXhpc3RpbmdEYXRhWzBdLmlkKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwZGF0ZSBlcnJvcjonLCB1cGRhdGVFcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRGF0YWJhc2UgdXBkYXRlIGVycm9yOiAnICsgdXBkYXRlRXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0hlcm8gZGF0YSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBJbnNlcnQgbmV3IHJlY29yZFxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnREYXRhLCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCdoZXJvX2Nhcm91c2VsJylcclxuICAgICAgICAgICAgLmluc2VydCh7IGNvbnRlbnQ6IGhlcm9EYXRhIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW5zZXJ0IGVycm9yOicsIGluc2VydEVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBpbnNlcnQgZXJyb3I6ICcgKyBpbnNlcnRFcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnSGVybyBkYXRhIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oaGVyb0RhdGEpO1xyXG4gICAgICB9IGNhdGNoIChkYkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2Ugb3BlcmF0aW9uIGVycm9yOicsIGRiRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRGF0YWJhc2Ugb3BlcmF0aW9uIGVycm9yOiAnICsgZGJFcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignSGVybyBjYXJvdXNlbCBBUEkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdEhlcm9EYXRhKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBzbGlkZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGltYWdlVXJsOiAnL3VwbG9hZHMvMjAyNTA1MzAtMTkwMDIwLmpwZycsXHJcbiAgICAgICAgdGl0bGU6ICdDYXQtU2FmZSBQbGFudHMgZm9yIFlvdXIgSG9tZScsXHJcbiAgICAgICAgc3VidGl0bGU6ICdDcmVhdGUgYSBiZWF1dGlmdWwsIHBldC1mcmllbmRseSBsaXZpbmcgc3BhY2UnLFxyXG4gICAgICAgIGxpbms6ICcvcGxhbnRzL3NhZmUnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpbWFnZVVybDogJy91cGxvYWRzL18yNDcwMjZkNC1mMDliLTQzMDctOWQ1NS02NWI0MGJkMjgxM2MuanBnJyxcclxuICAgICAgICB0aXRsZTogJ1RveGljIFBsYW50cyB0byBBdm9pZCcsIFxyXG4gICAgICAgIHN1YnRpdGxlOiAnUHJvdGVjdCB5b3VyIGZlbGluZSBmcmllbmRzIGZyb20gaGFybWZ1bCBwbGFudHMnLFxyXG4gICAgICAgIGxpbms6ICcvcGxhbnRzL3RveGljJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaW1hZ2VVcmw6ICcvdXBsb2Fkcy83YWUwYWZmMS00YjYwLTRjMDUtYWEzNC1mY2Q2YTllYTNkZDJfNzkzMDcxN2E5MGMzM2M3MTRmMWFlOGQ3NDI1NTQ1OTNfQ29tZnlVSV8wMzNmYzU3ZF8wMDAwMV8ucG5nJyxcclxuICAgICAgICB0aXRsZTogJ1BsYW50IENhcmUgR3VpZGUnLFxyXG4gICAgICAgIHN1YnRpdGxlOiAnTGVhcm4gaG93IHRvIGNhcmUgZm9yIHlvdXIgZ3JlZW4gY29tcGFuaW9ucycsIFxyXG4gICAgICAgIGxpbms6ICcvcGxhbnRzL2NhdXRpb24nXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9O1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBjb252ZXJ0IG9sZCBpbWFnZSBwYXRocyB0byBuZXcgcGF0aHNcclxuZnVuY3Rpb24gY29udmVydEltYWdlUGF0aChpbWFnZVVybCkge1xyXG4gIGlmICghaW1hZ2VVcmwpIHJldHVybiBpbWFnZVVybDtcclxuICBcclxuICAvLyBDb252ZXJ0IC9pbWFnZXMvcGxhbnRzLyB0byAvdXBsb2Fkcy9cclxuICBpZiAoaW1hZ2VVcmwuc3RhcnRzV2l0aCgnL2ltYWdlcy9wbGFudHMvJykpIHtcclxuICAgIGNvbnN0IGZpbGVuYW1lID0gaW1hZ2VVcmwuc3BsaXQoJy8nKS5wb3AoKTtcclxuICAgIHJldHVybiBgL3VwbG9hZHMvJHtmaWxlbmFtZX1gO1xyXG4gIH1cclxuICBcclxuICAvLyBDb252ZXJ0IC9pbWFnZXMvIHRvIC91cGxvYWRzL1xyXG4gIGlmIChpbWFnZVVybC5zdGFydHNXaXRoKCcvaW1hZ2VzLycpICYmICFpbWFnZVVybC5zdGFydHNXaXRoKCcvaW1hZ2VzL3BsYW50cy8nKSkge1xyXG4gICAgY29uc3QgZmlsZW5hbWUgPSBpbWFnZVVybC5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgcmV0dXJuIGAvdXBsb2Fkcy8ke2ZpbGVuYW1lfWA7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBpbWFnZVVybDsgLy8gS2VlcCAvdXBsb2Fkcy8gdW5jaGFuZ2VkXHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGZpbGUgZXhpc3RzIGFuZCByZXR1cm4gZmFsbGJhY2sgaWYgbmVlZGVkXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSW1hZ2VQYXRoKGltYWdlVXJsKSB7XHJcbiAgaWYgKCFpbWFnZVVybCkgcmV0dXJuICcvaW1hZ2VzL2hlcm8tMS5qcGcnO1xyXG4gIFxyXG4gIC8vIEZvciBwcm9kdWN0aW9uLCB3ZSBjYW4ndCBjaGVjayBmaWxlc3lzdGVtLCBzbyB1c2Uga25vd24gZ29vZCBpbWFnZXNcclxuICBjb25zdCBrbm93blZhbGlkSW1hZ2VzID0gW1xyXG4gICAgJy91cGxvYWRzLzIwMjUwNTMwLTE5MDAyMC5qcGcnLFxyXG4gICAgJy91cGxvYWRzL18yNDcwMjZkNC1mMDliLTQzMDctOWQ1NS02NWI0MGJkMjgxM2MuanBnJyxcclxuICAgICcvdXBsb2Fkcy83YWUwYWZmMS00YjYwLTRjMDUtYWEzNC1mY2Q2YTllYTNkZDJfNzkzMDcxN2E5MGMzM2M3MTRmMWFlOGQ3NDI1NTQ1OTNfQ29tZnlVSV8wMzNmYzU3ZF8wMDAwMV8ucG5nJ1xyXG4gIF07XHJcbiAgXHJcbiAgLy8gSGFuZGxlIFN1cGFiYXNlIHN0b3JhZ2UgVVJMc1xyXG4gIGlmIChpbWFnZVVybC5pbmNsdWRlcygnc3VwYWJhc2UuY28vc3RvcmFnZS92MS9vYmplY3QvcHVibGljL3VwbG9hZHMvJykpIHtcclxuICAgIGNvbnNvbGUubG9nKCdGb3VuZCBTdXBhYmFzZSBVUkwsIGtlZXBpbmcgYXMgaXM6JywgaW1hZ2VVcmwpO1xyXG4gICAgcmV0dXJuIGltYWdlVXJsOyAvLyBLZWVwIFN1cGFiYXNlIFVSTHMgYXMgdGhleSBhcmVcclxuICB9XHJcbiAgXHJcbiAgaWYgKGtub3duVmFsaWRJbWFnZXMuaW5jbHVkZXMoaW1hZ2VVcmwpKSB7XHJcbiAgICByZXR1cm4gaW1hZ2VVcmw7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZvciBhbnkgb3RoZXIgcGF0aCwgcmV0dXJuIGEgZGVmYXVsdCBpbWFnZVxyXG4gIGNvbnNvbGUubG9nKCdJbnZhbGlkIGltYWdlIHBhdGgsIHVzaW5nIGZhbGxiYWNrOicsIGltYWdlVXJsKTtcclxuICByZXR1cm4gJy9pbWFnZXMvaGVyby0xLmpwZyc7XHJcbn1cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIlNVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZCIsImRhdGEiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0Iiwic3RhdHVzIiwianNvbiIsImdldERlZmF1bHRIZXJvRGF0YSIsImxlbmd0aCIsImhlcm9EYXRhIiwiY29udGVudCIsInNsaWRlcyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInNsaWRlIiwiaW1hZ2VVcmwiLCJ2YWxpZGF0ZUltYWdlUGF0aCIsImNvbnZlcnRJbWFnZVBhdGgiLCJkYkVycm9yIiwiYm9keSIsInZhbGlkU2xpZGVzIiwiaSIsInB1c2giLCJ0aXRsZSIsInN1YnRpdGxlIiwibGluayIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImV4aXN0aW5nRGF0YSIsImZldGNoRXJyb3IiLCJtZXNzYWdlIiwidXBkYXRlRGF0YSIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwiZXEiLCJpZCIsImluc2VydERhdGEiLCJpbnNlcnRFcnJvciIsImluc2VydCIsInN0YXJ0c1dpdGgiLCJmaWxlbmFtZSIsInNwbGl0IiwicG9wIiwia25vd25WYWxpZEltYWdlcyIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/hero-carousel-db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fhero-carousel-db&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Chero-carousel-db.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();