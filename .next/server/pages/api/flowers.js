"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/flowers";
exports.ids = ["pages/api/flowers"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fflowers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cflowers.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fflowers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cflowers.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_flowers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\flowers.js */ \"(api)/./pages/api/flowers.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_flowers_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_flowers_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/flowers\",\n        pathname: \"/api/flowers\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_flowers_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZsb3dlcnMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2Zsb3dlcnMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDcUQ7QUFDckQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXdzYWZlcGxhbnRzLz85MDM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZmxvd2Vycy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Zsb3dlcnNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mbG93ZXJzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fflowers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cflowers.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/flowers.js":
/*!******************************!*\
  !*** ./pages/api/flowers.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = process.env.SUPABASE_URL || \"\";\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY || \"\";\nif (!supabaseUrl || !supabaseKey) {\n    console.warn(\"Missing Supabase credentials for flower detail API\");\n}\nconst supabase = supabaseUrl && supabaseKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey) : null;\nasync function handler(req, res) {\n    try {\n        // CORS headers\n        res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\n        res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n        if (req.method === \"OPTIONS\") {\n            return res.status(200).end();\n        }\n        if (req.method === \"GET\") {\n            const { slug, category, safety_status, occasion } = req.query;\n            if (slug) {\n                // Get specific flower by slug\n                try {\n                    let flower = null;\n                    if (supabase) {\n                        // Try to use the custom function first\n                        const { data: functionData, error: functionError } = await supabase.rpc(\"get_flower_by_slug\", {\n                            flower_slug: slug\n                        });\n                        if (!functionError && functionData && functionData.length > 0) {\n                            flower = functionData[0];\n                        } else {\n                            // Fallback to manual query\n                            const { data, error } = await supabase.from(\"media_metadata\").select(\"*\").eq(\"seo_slug\", slug).eq(\"category\", \"flower\").single();\n                            if (!error && data) {\n                                flower = data;\n                            }\n                        }\n                    }\n                    if (flower) {\n                        return res.status(200).json({\n                            success: true,\n                            flower,\n                            seo: {\n                                title: `${flower.display_name} - Is it a Cat Safe Flower? | PawSafePlants`,\n                                description: `${flower.display_name} ${flower.safety_status === \"Safe\" ? \"is completely safe for cats\" : \"may be harmful to cats\"}. ${flower.toxicity_level}. ${flower.search_intent?.join(\", \") || \"Cat safety information\"}.`,\n                                keywords: `${flower.common_name}, ${flower.scientific_name}, ${flower.search_intent?.join(\", \") || \"\"}, cat safe flowers, pet friendly flowers, ${flower.safety_status.toLowerCase()} flowers for cats`,\n                                canonical: `https://www.pawsafeplants.com/plants/${flower.seo_slug}`\n                            }\n                        });\n                    } else {\n                        return res.status(404).json({\n                            success: false,\n                            error: \"Flower not found\"\n                        });\n                    }\n                } catch (error) {\n                    console.error(\"Error fetching flower:\", error);\n                    // Return mock data as fallback\n                    const mockFlowers = {\n                        \"peony-toxicity-cats\": {\n                            id: 1,\n                            common_name: \"Peony\",\n                            scientific_name: \"Paeonia lactiflora\",\n                            family: \"Paeoniaceae\",\n                            display_name: \"Peony\",\n                            safety_status: \"Toxic\",\n                            toxicity_level: \"Toxic – Can cause gastrointestinal upset\",\n                            toxicity_symptoms: \"Vomiting, diarrhea, drooling, abdominal pain\",\n                            gifting_occasions: [\n                                \"Wedding\",\n                                \"Anniversary\",\n                                \"Birthday\"\n                            ],\n                            search_intent: [\n                                \"Peony bouquet delivery\",\n                                \"Are peonies safe?\"\n                            ],\n                            seo_slug: \"peony-toxicity-cats\",\n                            file_path: \"https://images.unsplash.com/photo-1558628037-f3b6c1b0c3b2?w=400&h=400&fit=crop\"\n                        },\n                        \"cat-safe-roses\": {\n                            id: 3,\n                            common_name: \"Rose\",\n                            scientific_name: \"Rosa rubiginosa\",\n                            family: \"Rosaceae\",\n                            display_name: \"Rose\",\n                            safety_status: \"Safe\",\n                            toxicity_level: \"Safe – Generally non-toxic to cats\",\n                            toxicity_symptoms: \"None (thorns may cause physical injury)\",\n                            gifting_occasions: [\n                                \"Valentine's Day\",\n                                \"Anniversary\",\n                                \"Birthday\",\n                                \"Wedding\"\n                            ],\n                            search_intent: [\n                                \"Classic romance\",\n                                \"Cat safe roses\"\n                            ],\n                            seo_slug: \"cat-safe-roses\",\n                            file_path: \"https://images.unsplash.com/photo-1518709594023-a7b5d2e4cf76?w=400&h=400&fit=crop\"\n                        },\n                        \"lily-deadly-toxicity-cats\": {\n                            id: 11,\n                            common_name: \"Lily\",\n                            scientific_name: \"Lilium longiflorum\",\n                            family: \"Liliaceae\",\n                            display_name: \"Lily\",\n                            safety_status: \"Deadly\",\n                            toxicity_level: \"Deadly – Extremely toxic, can cause acute kidney failure\",\n                            toxicity_symptoms: \"Vomiting, lethargy, loss of appetite, kidney failure, death\",\n                            gifting_occasions: [\n                                \"Easter\",\n                                \"Wedding\",\n                                \"Funeral\"\n                            ],\n                            search_intent: [\n                                \"Easter Lily danger\",\n                                \"Lily pollen cat death\"\n                            ],\n                            seo_slug: \"lily-deadly-toxicity-cats\",\n                            file_path: \"https://images.unsplash.com/photo-1598306948263-8e4b4898d6b5?w=400&h=400&fit=crop\"\n                        }\n                    };\n                    const flower = mockFlowers[slug] || null;\n                    if (flower) {\n                        return res.status(200).json({\n                            success: true,\n                            flower,\n                            seo: {\n                                title: `${flower.display_name} - Is it a Cat Safe Flower? | PawSafePlants`,\n                                description: `${flower.display_name} ${flower.safety_status === \"Safe\" ? \"is completely safe for cats\" : \"may be harmful to cats\"}. ${flower.toxicity_level}. ${flower.search_intent?.join(\", \") || \"Cat safety information\"}.`,\n                                keywords: `${flower.common_name}, ${flower.scientific_name}, ${flower.search_intent?.join(\", \") || \"\"}, cat safe flowers, pet friendly flowers, ${flower.safety_status.toLowerCase()} flowers for cats`,\n                                canonical: `https://www.pawsafeplants.com/plants/${flower.seo_slug}`\n                            }\n                        });\n                    } else {\n                        return res.status(404).json({\n                            success: false,\n                            error: \"Flower not found\"\n                        });\n                    }\n                }\n            } else if (category === \"flower\") {\n                // Get flowers by category\n                try {\n                    let flowers = [];\n                    if (supabase) {\n                        const { data, error } = await supabase.from(\"media_metadata\").select(\"*\").eq(\"category\", \"flower\").order(\"priority_rank\", {\n                            ascending: true\n                        });\n                        if (!error && data) {\n                            flowers = data;\n                        }\n                    }\n                    return res.status(200).json({\n                        success: true,\n                        flowers,\n                        total: flowers.length,\n                        category: \"flower\"\n                    });\n                } catch (error) {\n                    console.error(\"Error fetching flowers by category:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        error: \"Failed to fetch flowers\"\n                    });\n                }\n            } else if (safety_status) {\n                // Get flowers by safety status\n                try {\n                    let flowers = [];\n                    if (supabase) {\n                        const { data, error } = await supabase.from(\"media_metadata\").select(\"*\").eq(\"category\", \"flower\").eq(\"safety_status\", safety_status).order(\"priority_rank\", {\n                            ascending: true\n                        });\n                        if (!error && data) {\n                            flowers = data;\n                        }\n                    }\n                    return res.status(200).json({\n                        success: true,\n                        flowers,\n                        safety_status,\n                        total: flowers.length\n                    });\n                } catch (error) {\n                    console.error(\"Error fetching flowers by safety status:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        error: \"Failed to fetch flowers\"\n                    });\n                }\n            } else if (occasion) {\n                // Get flowers by gifting occasion\n                try {\n                    let flowers = [];\n                    if (supabase) {\n                        const { data, error } = await supabase.from(\"media_metadata\").select(\"*\").eq(\"category\", \"flower\").contains(\"gifting_occasions\", occasion).order(\"priority_rank\", {\n                            ascending: true\n                        });\n                        if (!error && data) {\n                            flowers = data;\n                        }\n                    }\n                    return res.status(200).json({\n                        success: true,\n                        flowers,\n                        occasion,\n                        total: flowers.length\n                    });\n                } catch (error) {\n                    console.error(\"Error fetching flowers by occasion:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        error: \"Failed to fetch flowers\"\n                    });\n                }\n            } else {\n                // Get all flowers\n                try {\n                    let flowers = [];\n                    if (supabase) {\n                        const { data, error } = await supabase.from(\"media_metadata\").select(\"*\").eq(\"category\", \"flower\").order(\"priority_rank\", {\n                            ascending: true\n                        });\n                        if (!error && data) {\n                            flowers = data;\n                        }\n                    }\n                    return res.status(200).json({\n                        success: true,\n                        flowers,\n                        total: flowers.length\n                    });\n                } catch (error) {\n                    console.error(\"Error fetching all flowers:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        error: \"Failed to fetch flowers\"\n                    });\n                }\n            }\n        }\n        return res.status(405).json({\n            success: false,\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Unexpected error in flower detail API:\", error);\n        return res.status(500).json({\n            success: false,\n            error: \"Internal server error\",\n            message: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlHLE1BQU0sQ0FBQyxLQUFLbUIsSUFBSSxDQUFDO3dCQUMxQkMsU0FBUzt3QkFDVFYsT0FBTztvQkFDVDtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxPQUFPYixJQUFJRyxNQUFNLENBQUMsS0FBS21CLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUVixPQUFPO1FBQ1Q7SUFFRixFQUFFLE9BQU9BLE9BQU87UUFDZGxCLFFBQVFrQixLQUFLLENBQUMsMENBQTBDQTtRQUN4RCxPQUFPYixJQUFJRyxNQUFNLENBQUMsS0FBS21CLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUVixPQUFPO1lBQ1BtQyxTQUFTbkMsTUFBTW1DLE9BQU87UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGF3c2FmZXBsYW50cy8uL3BhZ2VzL2FwaS9mbG93ZXJzLmpzP2VlZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwgfHwgJydcclxuY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZIHx8ICcnXHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSkge1xyXG4gIGNvbnNvbGUud2FybignTWlzc2luZyBTdXBhYmFzZSBjcmVkZW50aWFscyBmb3IgZmxvd2VyIGRldGFpbCBBUEknKVxyXG59XHJcblxyXG5jb25zdCBzdXBhYmFzZSA9IHN1cGFiYXNlVXJsICYmIHN1cGFiYXNlS2V5ID8gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSkgOiBudWxsXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENPUlMgaGVhZGVyc1xyXG4gICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKVxyXG4gICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJylcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJylcclxuXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuZW5kKClcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgY29uc3QgeyBzbHVnLCBjYXRlZ29yeSwgc2FmZXR5X3N0YXR1cywgb2NjYXNpb24gfSA9IHJlcS5xdWVyeVxyXG5cclxuICAgICAgaWYgKHNsdWcpIHtcclxuICAgICAgICAvLyBHZXQgc3BlY2lmaWMgZmxvd2VyIGJ5IHNsdWdcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgbGV0IGZsb3dlciA9IG51bGxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHN1cGFiYXNlKSB7XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byB1c2UgdGhlIGN1c3RvbSBmdW5jdGlvbiBmaXJzdFxyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGZ1bmN0aW9uRGF0YSwgZXJyb3I6IGZ1bmN0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgICAgLnJwYygnZ2V0X2Zsb3dlcl9ieV9zbHVnJywgeyBmbG93ZXJfc2x1Zzogc2x1ZyB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKCFmdW5jdGlvbkVycm9yICYmIGZ1bmN0aW9uRGF0YSAmJiBmdW5jdGlvbkRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgIGZsb3dlciA9IGZ1bmN0aW9uRGF0YVswXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG1hbnVhbCBxdWVyeVxyXG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgICAgICAuZnJvbSgnbWVkaWFfbWV0YWRhdGEnKVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgICAgICAuZXEoJ3Nlb19zbHVnJywgc2x1ZylcclxuICAgICAgICAgICAgICAgIC5lcSgnY2F0ZWdvcnknLCAnZmxvd2VyJylcclxuICAgICAgICAgICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGZsb3dlciA9IGRhdGFcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoZmxvd2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICBmbG93ZXIsXHJcbiAgICAgICAgICAgICAgc2VvOiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogYCR7Zmxvd2VyLmRpc3BsYXlfbmFtZX0gLSBJcyBpdCBhIENhdCBTYWZlIEZsb3dlcj8gfCBQYXdTYWZlUGxhbnRzYCxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtmbG93ZXIuZGlzcGxheV9uYW1lfSAke2Zsb3dlci5zYWZldHlfc3RhdHVzID09PSAnU2FmZScgPyAnaXMgY29tcGxldGVseSBzYWZlIGZvciBjYXRzJyA6ICdtYXkgYmUgaGFybWZ1bCB0byBjYXRzJ30uICR7Zmxvd2VyLnRveGljaXR5X2xldmVsfS4gJHtmbG93ZXIuc2VhcmNoX2ludGVudD8uam9pbignLCAnKSB8fCAnQ2F0IHNhZmV0eSBpbmZvcm1hdGlvbid9LmAsXHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkczogYCR7Zmxvd2VyLmNvbW1vbl9uYW1lfSwgJHtmbG93ZXIuc2NpZW50aWZpY19uYW1lfSwgJHtmbG93ZXIuc2VhcmNoX2ludGVudD8uam9pbignLCAnKSB8fCAnJ30sIGNhdCBzYWZlIGZsb3dlcnMsIHBldCBmcmllbmRseSBmbG93ZXJzLCAke2Zsb3dlci5zYWZldHlfc3RhdHVzLnRvTG93ZXJDYXNlKCl9IGZsb3dlcnMgZm9yIGNhdHNgLFxyXG4gICAgICAgICAgICAgICAgY2Fub25pY2FsOiBgaHR0cHM6Ly93d3cucGF3c2FmZXBsYW50cy5jb20vcGxhbnRzLyR7Zmxvd2VyLnNlb19zbHVnfWBcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGVycm9yOiAnRmxvd2VyIG5vdCBmb3VuZCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZsb3dlcjonLCBlcnJvcilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YSBhcyBmYWxsYmFja1xyXG4gICAgICAgICAgY29uc3QgbW9ja0Zsb3dlcnMgPSB7XHJcbiAgICAgICAgICAgICdwZW9ueS10b3hpY2l0eS1jYXRzJzoge1xyXG4gICAgICAgICAgICAgIGlkOiAxLFxyXG4gICAgICAgICAgICAgIGNvbW1vbl9uYW1lOiAnUGVvbnknLFxyXG4gICAgICAgICAgICAgIHNjaWVudGlmaWNfbmFtZTogJ1BhZW9uaWEgbGFjdGlmbG9yYScsXHJcbiAgICAgICAgICAgICAgZmFtaWx5OiAnUGFlb25pYWNlYWUnLFxyXG4gICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ1Blb255JyxcclxuICAgICAgICAgICAgICBzYWZldHlfc3RhdHVzOiAnVG94aWMnLFxyXG4gICAgICAgICAgICAgIHRveGljaXR5X2xldmVsOiAnVG94aWMg4oCTIENhbiBjYXVzZSBnYXN0cm9pbnRlc3RpbmFsIHVwc2V0JyxcclxuICAgICAgICAgICAgICB0b3hpY2l0eV9zeW1wdG9tczogJ1ZvbWl0aW5nLCBkaWFycmhlYSwgZHJvb2xpbmcsIGFiZG9taW5hbCBwYWluJyxcclxuICAgICAgICAgICAgICBnaWZ0aW5nX29jY2FzaW9uczogWydXZWRkaW5nJywgJ0Fubml2ZXJzYXJ5JywgJ0JpcnRoZGF5J10sXHJcbiAgICAgICAgICAgICAgc2VhcmNoX2ludGVudDogWydQZW9ueSBib3VxdWV0IGRlbGl2ZXJ5JywgJ0FyZSBwZW9uaWVzIHNhZmU/J10sXHJcbiAgICAgICAgICAgICAgc2VvX3NsdWc6ICdwZW9ueS10b3hpY2l0eS1jYXRzJyxcclxuICAgICAgICAgICAgICBmaWxlX3BhdGg6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU1ODYyODAzNy1mM2I2YzFiMGMzYjI/dz00MDAmaD00MDAmZml0PWNyb3AnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdjYXQtc2FmZS1yb3Nlcyc6IHtcclxuICAgICAgICAgICAgICBpZDogMyxcclxuICAgICAgICAgICAgICBjb21tb25fbmFtZTogJ1Jvc2UnLFxyXG4gICAgICAgICAgICAgIHNjaWVudGlmaWNfbmFtZTogJ1Jvc2EgcnViaWdpbm9zYScsXHJcbiAgICAgICAgICAgICAgZmFtaWx5OiAnUm9zYWNlYWUnLFxyXG4gICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ1Jvc2UnLFxyXG4gICAgICAgICAgICAgIHNhZmV0eV9zdGF0dXM6ICdTYWZlJyxcclxuICAgICAgICAgICAgICB0b3hpY2l0eV9sZXZlbDogJ1NhZmUg4oCTIEdlbmVyYWxseSBub24tdG94aWMgdG8gY2F0cycsXHJcbiAgICAgICAgICAgICAgdG94aWNpdHlfc3ltcHRvbXM6ICdOb25lICh0aG9ybnMgbWF5IGNhdXNlIHBoeXNpY2FsIGluanVyeSknLFxyXG4gICAgICAgICAgICAgIGdpZnRpbmdfb2NjYXNpb25zOiBbJ1ZhbGVudGluZVxcJ3MgRGF5JywgJ0Fubml2ZXJzYXJ5JywgJ0JpcnRoZGF5JywgJ1dlZGRpbmcnXSxcclxuICAgICAgICAgICAgICBzZWFyY2hfaW50ZW50OiBbJ0NsYXNzaWMgcm9tYW5jZScsICdDYXQgc2FmZSByb3NlcyddLFxyXG4gICAgICAgICAgICAgIHNlb19zbHVnOiAnY2F0LXNhZmUtcm9zZXMnLFxyXG4gICAgICAgICAgICAgIGZpbGVfcGF0aDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE4NzA5NTk0MDIzLWE3YjVkMmU0Y2Y3Nj93PTQwMCZoPTQwMCZmaXQ9Y3JvcCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2xpbHktZGVhZGx5LXRveGljaXR5LWNhdHMnOiB7XHJcbiAgICAgICAgICAgICAgaWQ6IDExLFxyXG4gICAgICAgICAgICAgIGNvbW1vbl9uYW1lOiAnTGlseScsXHJcbiAgICAgICAgICAgICAgc2NpZW50aWZpY19uYW1lOiAnTGlsaXVtIGxvbmdpZmxvcnVtJyxcclxuICAgICAgICAgICAgICBmYW1pbHk6ICdMaWxpYWNlYWUnLFxyXG4gICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ0xpbHknLFxyXG4gICAgICAgICAgICAgIHNhZmV0eV9zdGF0dXM6ICdEZWFkbHknLFxyXG4gICAgICAgICAgICAgIHRveGljaXR5X2xldmVsOiAnRGVhZGx5IOKAkyBFeHRyZW1lbHkgdG94aWMsIGNhbiBjYXVzZSBhY3V0ZSBraWRuZXkgZmFpbHVyZScsXHJcbiAgICAgICAgICAgICAgdG94aWNpdHlfc3ltcHRvbXM6ICdWb21pdGluZywgbGV0aGFyZ3ksIGxvc3Mgb2YgYXBwZXRpdGUsIGtpZG5leSBmYWlsdXJlLCBkZWF0aCcsXHJcbiAgICAgICAgICAgICAgZ2lmdGluZ19vY2Nhc2lvbnM6IFsnRWFzdGVyJywgJ1dlZGRpbmcnLCAnRnVuZXJhbCddLFxyXG4gICAgICAgICAgICAgIHNlYXJjaF9pbnRlbnQ6IFsnRWFzdGVyIExpbHkgZGFuZ2VyJywgJ0xpbHkgcG9sbGVuIGNhdCBkZWF0aCddLFxyXG4gICAgICAgICAgICAgIHNlb19zbHVnOiAnbGlseS1kZWFkbHktdG94aWNpdHktY2F0cycsXHJcbiAgICAgICAgICAgICAgZmlsZV9wYXRoOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1OTgzMDY5NDgyNjMtOGU0YjQ4OThkNmI1P3c9NDAwJmg9NDAwJmZpdD1jcm9wJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgZmxvd2VyID0gbW9ja0Zsb3dlcnNbc2x1Z10gfHwgbnVsbFxyXG5cclxuICAgICAgICAgIGlmIChmbG93ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGZsb3dlcixcclxuICAgICAgICAgICAgICBzZW86IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHtmbG93ZXIuZGlzcGxheV9uYW1lfSAtIElzIGl0IGEgQ2F0IFNhZmUgRmxvd2VyPyB8IFBhd1NhZmVQbGFudHNgLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke2Zsb3dlci5kaXNwbGF5X25hbWV9ICR7Zmxvd2VyLnNhZmV0eV9zdGF0dXMgPT09ICdTYWZlJyA/ICdpcyBjb21wbGV0ZWx5IHNhZmUgZm9yIGNhdHMnIDogJ21heSBiZSBoYXJtZnVsIHRvIGNhdHMnfS4gJHtmbG93ZXIudG94aWNpdHlfbGV2ZWx9LiAke2Zsb3dlci5zZWFyY2hfaW50ZW50Py5qb2luKCcsICcpIHx8ICdDYXQgc2FmZXR5IGluZm9ybWF0aW9uJ30uYCxcclxuICAgICAgICAgICAgICAgIGtleXdvcmRzOiBgJHtmbG93ZXIuY29tbW9uX25hbWV9LCAke2Zsb3dlci5zY2llbnRpZmljX25hbWV9LCAke2Zsb3dlci5zZWFyY2hfaW50ZW50Py5qb2luKCcsICcpIHx8ICcnfSwgY2F0IHNhZmUgZmxvd2VycywgcGV0IGZyaWVuZGx5IGZsb3dlcnMsICR7Zmxvd2VyLnNhZmV0eV9zdGF0dXMudG9Mb3dlckNhc2UoKX0gZmxvd2VycyBmb3IgY2F0c2AsXHJcbiAgICAgICAgICAgICAgICBjYW5vbmljYWw6IGBodHRwczovL3d3dy5wYXdzYWZlcGxhbnRzLmNvbS9wbGFudHMvJHtmbG93ZXIuc2VvX3NsdWd9YFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgZXJyb3I6ICdGbG93ZXIgbm90IGZvdW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2Zsb3dlcicpIHtcclxuICAgICAgICAvLyBHZXQgZmxvd2VycyBieSBjYXRlZ29yeVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBsZXQgZmxvd2VycyA9IFtdXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzdXBhYmFzZSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAgIC5mcm9tKCdtZWRpYV9tZXRhZGF0YScpXHJcbiAgICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgICAgLmVxKCdjYXRlZ29yeScsICdmbG93ZXInKVxyXG4gICAgICAgICAgICAgIC5vcmRlcigncHJpb3JpdHlfcmFuaycsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEpIHtcclxuICAgICAgICAgICAgICBmbG93ZXJzID0gZGF0YVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgZmxvd2VycyxcclxuICAgICAgICAgICAgdG90YWw6IGZsb3dlcnMubGVuZ3RoLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ2Zsb3dlcidcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbG93ZXJzIGJ5IGNhdGVnb3J5OicsIGVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGZsb3dlcnMnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChzYWZldHlfc3RhdHVzKSB7XHJcbiAgICAgICAgLy8gR2V0IGZsb3dlcnMgYnkgc2FmZXR5IHN0YXR1c1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBsZXQgZmxvd2VycyA9IFtdXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzdXBhYmFzZSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAgIC5mcm9tKCdtZWRpYV9tZXRhZGF0YScpXHJcbiAgICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgICAgLmVxKCdjYXRlZ29yeScsICdmbG93ZXInKVxyXG4gICAgICAgICAgICAgIC5lcSgnc2FmZXR5X3N0YXR1cycsIHNhZmV0eV9zdGF0dXMpXHJcbiAgICAgICAgICAgICAgLm9yZGVyKCdwcmlvcml0eV9yYW5rJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgICAgICAgIGlmICghZXJyb3IgJiYgZGF0YSkge1xyXG4gICAgICAgICAgICAgIGZsb3dlcnMgPSBkYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBmbG93ZXJzLFxyXG4gICAgICAgICAgICBzYWZldHlfc3RhdHVzLFxyXG4gICAgICAgICAgICB0b3RhbDogZmxvd2Vycy5sZW5ndGhcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbG93ZXJzIGJ5IHNhZmV0eSBzdGF0dXM6JywgZXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggZmxvd2VycydcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKG9jY2FzaW9uKSB7XHJcbiAgICAgICAgLy8gR2V0IGZsb3dlcnMgYnkgZ2lmdGluZyBvY2Nhc2lvblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBsZXQgZmxvd2VycyA9IFtdXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzdXBhYmFzZSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAgIC5mcm9tKCdtZWRpYV9tZXRhZGF0YScpXHJcbiAgICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgICAgLmVxKCdjYXRlZ29yeScsICdmbG93ZXInKVxyXG4gICAgICAgICAgICAgIC5jb250YWlucygnZ2lmdGluZ19vY2Nhc2lvbnMnLCBvY2Nhc2lvbilcclxuICAgICAgICAgICAgICAub3JkZXIoJ3ByaW9yaXR5X3JhbmsnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgZmxvd2VycyA9IGRhdGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGZsb3dlcnMsXHJcbiAgICAgICAgICAgIG9jY2FzaW9uLFxyXG4gICAgICAgICAgICB0b3RhbDogZmxvd2Vycy5sZW5ndGhcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbG93ZXJzIGJ5IG9jY2FzaW9uOicsIGVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGZsb3dlcnMnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBHZXQgYWxsIGZsb3dlcnNcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgbGV0IGZsb3dlcnMgPSBbXVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoc3VwYWJhc2UpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgICAuZnJvbSgnbWVkaWFfbWV0YWRhdGEnKVxyXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgICAgIC5lcSgnY2F0ZWdvcnknLCAnZmxvd2VyJylcclxuICAgICAgICAgICAgICAub3JkZXIoJ3ByaW9yaXR5X3JhbmsnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgZmxvd2VycyA9IGRhdGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGZsb3dlcnMsXHJcbiAgICAgICAgICAgIHRvdGFsOiBmbG93ZXJzLmxlbmd0aFxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFsbCBmbG93ZXJzOicsIGVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGZsb3dlcnMnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCdcclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIGZsb3dlciBkZXRhaWwgQVBJOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIlNVUEFCQVNFX0FOT05fS0VZIiwiY29uc29sZSIsIndhcm4iLCJzdXBhYmFzZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiLCJzbHVnIiwiY2F0ZWdvcnkiLCJzYWZldHlfc3RhdHVzIiwib2NjYXNpb24iLCJxdWVyeSIsImZsb3dlciIsImRhdGEiLCJmdW5jdGlvbkRhdGEiLCJlcnJvciIsImZ1bmN0aW9uRXJyb3IiLCJycGMiLCJmbG93ZXJfc2x1ZyIsImxlbmd0aCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImpzb24iLCJzdWNjZXNzIiwic2VvIiwidGl0bGUiLCJkaXNwbGF5X25hbWUiLCJkZXNjcmlwdGlvbiIsInRveGljaXR5X2xldmVsIiwic2VhcmNoX2ludGVudCIsImpvaW4iLCJrZXl3b3JkcyIsImNvbW1vbl9uYW1lIiwic2NpZW50aWZpY19uYW1lIiwidG9Mb3dlckNhc2UiLCJjYW5vbmljYWwiLCJzZW9fc2x1ZyIsIm1vY2tGbG93ZXJzIiwiaWQiLCJmYW1pbHkiLCJ0b3hpY2l0eV9zeW1wdG9tcyIsImdpZnRpbmdfb2NjYXNpb25zIiwiZmlsZV9wYXRoIiwiZmxvd2VycyIsIm9yZGVyIiwiYXNjZW5kaW5nIiwidG90YWwiLCJjb250YWlucyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/flowers.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fflowers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cflowers.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();