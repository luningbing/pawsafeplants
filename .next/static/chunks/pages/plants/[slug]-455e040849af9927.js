(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{3165:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plants/[slug]",function(){return a(6450)}])},6450:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return v},default:function(){return S}});var i=a(5893),s=a(3591),n=a.n(s),o=a(1664),l=a.n(o),r=a(9008),c=a.n(r),d=a(7294),p=a(9681),x=a(9508);function f(e){var t;let{plant:a}=e,[s,n]=(0,d.useState)([]),[o,l]=(0,d.useState)(null),[r,c]=(0,d.useState)(!0),[f,v]=(0,d.useState)(!1),[S,N]=(0,d.useState)(null),C=["{petName} loves this plant because it's safe for her to explore!","{petName} enjoys napping near this beautiful plant!","This plant makes {petName} feel safe and happy!","{petName} thinks this plant is a perfect playground!","{petName} can't resist sniffing around this pet-friendly plant!","This plant is {petName}'s favorite spot to relax!","{petName} feels like a queen with this plant around!","This plant brings out the curious side of {petName}!","{petName} approves of this plant choice!","This plant makes {petName}'s day brighter!"],D=["Tofu","Mochi","Luna","Milo","Coco","Bella","Max","Lucy","Oliver","Daisy"],w=e=>{N(e),v(!0)},k=e=>{let{delay:t,initialX:a,initialY:s}=e;return(0,i.jsx)(p.E.div,{initial:{scale:0,rotate:0,x:a,y:s,opacity:0},animate:{scale:[0,1.2,1],rotate:[0,-10,10,-5,0],opacity:[0,1,1,1,0]},transition:{duration:1,delay:t,ease:"easeInOut"},style:{position:"fixed",fontSize:"40px",color:"#FFB6C1",zIndex:1e3,pointerEvents:"none",textShadow:"0 0 10px rgba(255, 182, 193, 0.5)"},children:"\uD83D\uDC3E"})};if((0,d.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/list-pets"),t=await e.json();if(n(t.paths||[]),a.pet_moment)l(a.pet_moment);else if(t.paths&&t.paths.length>0){let e=Math.floor(Math.random()*t.paths.length);l(t.paths[e])}c(!1)}catch(e){console.error("Failed to load pet images:",e),c(!1)}})()},[a.pet_moment]),r)return(0,i.jsxs)("div",{style:{background:g,borderRadius:j,padding:"40px",marginBottom:"32px",textAlign:"center",color:"#666"},children:[(0,i.jsx)("div",{style:{fontSize:"24px",marginBottom:"16px"},children:"\uD83D\uDC31"}),(0,i.jsx)("p",{children:"Loading pet moments..."})]});if(!o||0===s.length)return null;let B=D[Math.floor(Math.random()*D.length)],_=C[Math.floor(Math.random()*C.length)].replace("{petName}",B);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{background:g,borderRadius:j,padding:"40px",marginBottom:"32px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"2px solid ".concat(y)},children:(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"40px",alignItems:"center"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{style:{fontSize:"32px",fontWeight:700,color:h,marginBottom:"16px",display:"flex",alignItems:"center",gap:"12px"},children:"\uD83D\uDC31 Pet Moments"}),(0,i.jsx)("p",{style:{fontSize:"18px",lineHeight:1.6,color:"#2D2D2D",marginBottom:"20px",fontStyle:"italic"},children:_}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",color:"#666",fontSize:"14px"},children:[(0,i.jsx)("span",{style:{background:"#fff",padding:"6px 12px",borderRadius:"20px",border:"1px solid ".concat(u,"30")},children:"\uD83C\uDF3F Pet-Friendly Plant"}),(0,i.jsx)("span",{children:(null===(t=a.toxicity_level)||void 0===t?void 0:t.includes("Safe"))?"✅ Safe for Cats":"⚠️ Use with Caution"})]})]}),(0,i.jsxs)("div",{style:{position:"relative",borderRadius:b,overflow:"hidden",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"},children:[(0,i.jsx)("div",{onClick:()=>w(o),style:{cursor:"pointer"},children:(0,i.jsx)(m,{src:o,alt:"".concat(B," with ").concat(a.title),fallback:(0,i.jsx)("span",{style:{fontSize:"48px"},children:"\uD83D\uDC31"}),style:{width:"100%",height:"250px",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"}})}),(0,i.jsxs)("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"linear-gradient(to top, rgba(0,0,0,0.7), transparent)",color:"white",padding:"16px",fontSize:"14px",fontWeight:500},children:["\uD83D\uDCF8 ",B,"'s moment with ",a.title]})]})]})}),(0,i.jsx)(x.M,{children:f&&(0,i.jsxs)(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>v(!1),children:[(0,i.jsx)(k,{delay:0,initialX:-150,initialY:-100}),(0,i.jsx)(k,{delay:.2,initialX:0,initialY:-150}),(0,i.jsx)(k,{delay:.4,initialX:150,initialY:-100}),(0,i.jsx)(p.E.img,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:1},src:S,alt:"Pet moment full screen",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:b,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},onClick:e=>e.stopPropagation()})]})})]})}function m(e){let{src:t,alt:a,fallback:s,style:n,containerStyle:o,unsplashFallback:l}=e,[r,c]=(0,d.useState)(t),[p,x]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{c(t),x(!1)},[t]),p||!r)?(0,i.jsx)("div",{style:{...n,...o,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #87A96B20, #87A96B10)",color:"#87A96B"},children:s||(0,i.jsx)("span",{style:{fontSize:"32px"},children:"\uD83C\uDF3F"})}):(0,i.jsx)("img",{src:r,alt:a,style:n,onError:()=>{!p&&l?(c(l),x(!1)):(x(!0),c(null))}})}let u="#87A96B",h="#6B8553",g="#FAF7F2",y="#F5F1E8",j="24px",b="16px";var v=!0;function S(e){let{plant:t}=e,[a,s]=(0,d.useState)([]),[o,r]=(0,d.useState)(""),[p,x]=(0,d.useState)(""),[v,S]=(0,d.useState)(!1);(0,d.useEffect)(()=>{try{let e={page_path:window.location.pathname,referrer:document.referrer};fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(()=>{})}catch(e){}},[]),(0,d.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/comments/list?slug="+encodeURIComponent(t.slug)),a=await e.json();s(a.comments||[])}catch(e){}})()},[t.slug]);let N=async e=>{if(e.preventDefault(),p.trim()){S(!0);try{let e={slug:t.slug,user_name:o,content:p};(await fetch("/api/comments/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(x(""),r(""))}catch(e){}finally{S(!1)}}},C=(e=>{let t=String(e||"").toLowerCase();return t.includes("safe")?{label:"Safe for Cats",color:"#fff",bg:u,icon:"✅",description:"This plant is generally safe for cats and poses minimal risk."}:t.includes("danger")||t.includes("toxic")||t.includes("extreme")||t.includes("fatal")?{label:"Toxic to Cats",color:"#fff",bg:"#E85D5D",icon:"❌",description:"This plant is dangerous and can cause serious health issues if ingested."}:{label:"Moderate Risk",color:"#2D2D2D",bg:"#F5C842",icon:"⚠️",description:"This plant may cause mild to moderate symptoms if ingested."}})(t.toxicity_level),D={light:{icon:"☀️",label:"Bright Indirect Light",level:"medium"},water:{icon:"\uD83D\uDCA7",label:"Moderate Watering",level:"medium"},petFriendly:"Safe for Cats"===C.label?{icon:"\uD83D\uDC31",label:"Cat-Safe",level:"safe"}:{icon:"\uD83D\uDC31",label:"Keep Away from Cats",level:"caution"}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c(),{children:[(0,i.jsxs)("title",{children:[t.title," - PawSafePlants"]}),(0,i.jsx)("meta",{name:"description",content:t.summary||"Learn about ".concat(t.title," and its safety for cats.")})]}),(0,i.jsxs)("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Inter", sans-serif',background:g,minHeight:"100vh",padding:"20px 0 40px 0"},className:"jsx-c74f18f1ad2ea226 plant-detail-container",children:[(0,i.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)(l(),{href:"/",style:{display:"inline-flex",alignItems:"center",gap:"8px",color:h,textDecoration:"none",marginBottom:"24px",fontWeight:500,fontSize:"15px"},className:"back-link",children:"← Back to all plants"}),(0,i.jsx)("div",{style:{background:"#fff",borderRadius:j,padding:"40px",marginBottom:"32px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"2px solid ".concat(y)},className:"jsx-c74f18f1ad2ea226 plant-detail-header",children:(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 400px",gap:"40px",alignItems:"start"},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsxs)("div",{className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("h1",{style:{fontSize:"48px",fontWeight:700,color:h,marginBottom:"12px",lineHeight:1.2},className:"jsx-c74f18f1ad2ea226 plant-title",children:t.title}),(0,i.jsx)("p",{style:{fontSize:"18px",color:"#666",marginBottom:"24px",lineHeight:1.6},className:"jsx-c74f18f1ad2ea226 plant-scientific-name",children:t.scientific_name&&(0,i.jsx)("span",{style:{fontStyle:"italic",color:"#888"},className:"jsx-c74f18f1ad2ea226",children:t.scientific_name})}),(0,i.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",marginBottom:"32px",padding:"12px 20px",backgroundColor:C.bg,color:C.color,borderRadius:"30px",fontWeight:600,fontSize:"16px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},className:"jsx-c74f18f1ad2ea226 toxicity-badge",children:[(0,i.jsx)("span",{style:{fontSize:"20px",marginRight:"8px"},className:"jsx-c74f18f1ad2ea226",children:C.icon}),C.label]}),(0,i.jsx)("div",{style:{fontSize:"16px",lineHeight:1.7,color:"#333",marginBottom:"32px"},className:"jsx-c74f18f1ad2ea226 content-text",children:t.summary}),(0,i.jsxs)("div",{style:{background:g,borderRadius:b,padding:"24px",marginBottom:"32px"},className:"jsx-c74f18f1ad2ea226 care-guide",children:[(0,i.jsx)("h3",{style:{fontSize:"20px",fontWeight:600,color:h,marginBottom:"16px"},className:"jsx-c74f18f1ad2ea226 section-title",children:"\uD83C\uDF3F Quick Care Guide"}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},className:"jsx-c74f18f1ad2ea226",children:Object.entries(D).map(e=>{let[t,a]=e;return(0,i.jsxs)("div",{style:{textAlign:"center"},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},className:"jsx-c74f18f1ad2ea226",children:a.icon}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#666"},className:"jsx-c74f18f1ad2ea226",children:a.label})]},t)})})]})]}),(0,i.jsx)("div",{className:"jsx-c74f18f1ad2ea226",children:(0,i.jsx)(m,{src:t.image,alt:t.title,unsplashFallback:"https://images.unsplash.com/photo-1586952860650-f6c9e65b0a8?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb&w=1200&h=800&fit=crop",style:{width:"100%",height:"300px",objectFit:"cover",borderRadius:b,boxShadow:"0 8px 24px rgba(0,0,0,0.15)"},className:"plant-image"})})]})}),(0,i.jsx)(f,{plant:t}),t.what_to_do_html&&(0,i.jsxs)("div",{style:{background:"#fff",borderRadius:j,padding:"40px",marginBottom:"32px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"2px solid ".concat(y)},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("h2",{style:{fontSize:"28px",fontWeight:600,color:h,marginBottom:"20px"},className:"jsx-c74f18f1ad2ea226",children:"\uD83D\uDEA8 What to Do If Your Cat Eats This Plant"}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:t.what_to_do_html},style:{fontSize:"16px",lineHeight:1.7,color:"#333"},className:"jsx-c74f18f1ad2ea226"})]}),(0,i.jsxs)("div",{style:{background:"#fff",borderRadius:j,padding:"40px",marginBottom:"32px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"2px solid ".concat(y)},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("h2",{style:{fontSize:"24px",fontWeight:600,color:h,marginBottom:"20px"},className:"jsx-c74f18f1ad2ea226",children:"\uD83D\uDCAC Community Experiences"}),(0,i.jsx)("div",{style:{marginBottom:"24px"},className:"jsx-c74f18f1ad2ea226",children:0===a.length?(0,i.jsx)("p",{style:{color:"#666",fontStyle:"italic"},className:"jsx-c74f18f1ad2ea226",children:"No experiences shared yet. Be the first to share your experience!"}):a.map((e,t)=>(0,i.jsxs)("div",{style:{background:g,borderRadius:b,padding:"16px",marginBottom:"12px"},className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("div",{style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#333"},className:"jsx-c74f18f1ad2ea226",children:e.user_name}),(0,i.jsx)("div",{style:{fontSize:"14px",lineHeight:1.5,color:"#666"},className:"jsx-c74f18f1ad2ea226",children:e.content})]},t))}),(0,i.jsxs)("form",{onSubmit:N,className:"jsx-c74f18f1ad2ea226",children:[(0,i.jsx)("div",{style:{marginBottom:"16px"},className:"jsx-c74f18f1ad2ea226",children:(0,i.jsx)("input",{type:"text",placeholder:"Your name",value:o,onChange:e=>r(e.target.value),style:{width:"100%",padding:"12px 16px",borderRadius:b,border:"2px solid ".concat(y),fontSize:"15px",fontFamily:"inherit",outline:"none",transition:"all 0.3s ease"},onFocus:e=>{e.currentTarget.style.borderColor=u},onBlur:e=>{e.currentTarget.style.borderColor=y},className:"jsx-c74f18f1ad2ea226"})}),(0,i.jsx)("textarea",{placeholder:"Write your comment...",value:p,onChange:e=>x(e.target.value),rows:4,style:{padding:"12px 16px",borderRadius:b,border:"2px solid ".concat(y),fontSize:"15px",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"all 0.3s ease"},onFocus:e=>{e.currentTarget.style.borderColor=u},onBlur:e=>{e.currentTarget.style.borderColor=y},className:"jsx-c74f18f1ad2ea226"}),(0,i.jsx)("button",{type:"submit",disabled:v||!p.trim(),style:{padding:"14px 24px",background:v||!p.trim()?"#ccc":u,color:"#fff",border:"none",borderRadius:b,fontWeight:600,fontSize:"15px",cursor:v||!p.trim()?"not-allowed":"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{!v&&p.trim()&&(e.currentTarget.style.background=h)},onMouseLeave:e=>{!v&&p.trim()&&(e.currentTarget.style.background=u)},className:"jsx-c74f18f1ad2ea226",children:v?"Submitting...":"Submit Comment (shown after review)"})]})]})]}),(0,i.jsx)(n(),{id:"c74f18f1ad2ea226",children:'@media(max-width:968px){div[style*="grid-template-columns: 1fr 400px"].jsx-c74f18f1ad2ea226{grid-template-columns:1fr!important}div[style*="grid-template-columns: 1fr 1fr"].jsx-c74f18f1ad2ea226{grid-template-columns:1fr!important}}'})]})]})}}},function(e){e.O(0,[681,461,888,774,179],function(){return e(e.s=3165)}),_N_E=e.O()}]);