(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4145)}])},4145:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(5893),n=r(3591),o=r.n(n),i=r(7294),s=r(1163),d=r(9008),l=r.n(d),m=r(9508),c=r(9681);function f(){let[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[d,f]=(0,i.useState)(!1),[x,p]=(0,i.useState)(""),[g,y]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),b=(0,s.useRouter)(),j="#87A96B";(0,i.useEffect)(()=>{localStorage.getItem("adminToken")&&b.push("/admin")},[b]);let w=async t=>{t.preventDefault(),f(!0),p("");try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),a=await t.json();t.ok?(localStorage.setItem("adminToken",a.token),localStorage.setItem("adminUser",JSON.stringify(a.user)),u(!0),setTimeout(()=>{b.push("/admin")},1500)):(p(a.error||"登录失败"),setTimeout(()=>p(""),3e3))}catch(e){p("网络错误，请重试"),setTimeout(()=>p(""),3e3)}finally{f(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{className:"jsx-6e990f12e1eeedd1",children:"Admin Login - Safe Plants"}),(0,a.jsx)("meta",{name:"description",content:"Admin login for Safe Plants management system",className:"jsx-6e990f12e1eeedd1"})]}),(0,a.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, ".concat("#FAF7F2"," 0%, #F5F1E8 100%)"),fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',position:"relative",overflow:"hidden"},className:"jsx-6e990f12e1eeedd1",children:[(0,a.jsx)("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, ".concat(j,"10% 0%, transparent 70%)"),animation:"float 20s infinite ease-in-out",opacity:.3},className:"jsx-6e990f12e1eeedd1"}),(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"},className:"jsx-6e990f12e1eeedd1",children:[...Array(20)].map((e,t)=>(0,a.jsx)("div",{style:{position:"absolute",width:"4px",height:"4px",backgroundColor:j,borderRadius:"50%",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),opacity:.3*Math.random(),animation:"float ".concat(10+20*Math.random(),"s infinite ease-in-out")},className:"jsx-6e990f12e1eeedd1"},t))}),(0,a.jsx)(m.M,{mode:"wait",children:h?(0,a.jsxs)(c.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.5},style:{backgroundColor:"white",padding:"4rem",borderRadius:"24px",boxShadow:"0 20px 60px rgba(135, 169, 107, 0.2)",width:"100%",maxWidth:"420px",margin:"0 2rem",textAlign:"center",zIndex:10},children:[(0,a.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},style:{width:"80px",height:"80px",backgroundColor:j,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 2rem",fontSize:"2rem",color:"white"},children:"✓"}),(0,a.jsx)("h2",{style:{color:j,fontSize:"1.8rem",fontWeight:"700",margin:"0"},className:"jsx-6e990f12e1eeedd1",children:"登录成功！"}),(0,a.jsx)("p",{style:{color:"#666",fontSize:"1rem",margin:"0.5rem 0"},className:"jsx-6e990f12e1eeedd1",children:"正在跳转到管理后台..."})]}):(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:[.4,0,.2,1]},style:{backgroundColor:"white",padding:"3rem",borderRadius:"24px",boxShadow:"0 20px 60px rgba(135, 169, 107, 0.15)",width:"100%",maxWidth:"420px",margin:"0 2rem",position:"relative",zIndex:10},children:[h&&(0,a.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",backgroundColor:j,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px"},children:"✓"}),(0,a.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},className:"jsx-6e990f12e1eeedd1",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},children:[(0,a.jsx)("h1",{style:{color:j,fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},className:"jsx-6e990f12e1eeedd1",children:"\uD83C\uDF3F Admin Login"}),(0,a.jsx)("p",{style:{color:"#666",fontSize:"1.1rem",margin:0},className:"jsx-6e990f12e1eeedd1",children:"Safe Plants Management"})]})}),(0,a.jsx)(m.M,{mode:"wait",children:x&&(0,a.jsx)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},style:{backgroundColor:"#fee",color:"#c53030",padding:"1rem",borderRadius:"12px",fontSize:"0.9rem",textAlign:"center",marginBottom:"1.5rem"},children:x})}),(0,a.jsxs)("form",{onSubmit:w,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},className:"jsx-6e990f12e1eeedd1",children:[(0,a.jsxs)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500",fontSize:"0.95rem"},className:"jsx-6e990f12e1eeedd1",children:"Username"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),style:{width:"100%",padding:"1rem",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",backgroundColor:"white"},onFocus:e=>{e.target.style.borderColor=j,e.target.style.boxShadow="0 0 0 3px ".concat(j,"20")},onBlur:e=>{e.target.style.borderColor="#e0e0e0",e.target.style.boxShadow="none"},placeholder:"输入用户名",required:!0,disabled:d,className:"jsx-6e990f12e1eeedd1"})]}),(0,a.jsxs)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500",fontSize:"0.95rem"},className:"jsx-6e990f12e1eeedd1",children:"Password"}),(0,a.jsxs)("div",{style:{position:"relative"},className:"jsx-6e990f12e1eeedd1",children:[(0,a.jsx)("input",{type:g?"text":"password",value:r,onChange:e=>n(e.target.value),style:{width:"100%",padding:"1rem",paddingRight:"3rem",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",backgroundColor:"white"},onFocus:e=>{e.target.style.borderColor=j,e.target.style.boxShadow="0 0 0 3px ".concat(j,"20")},onBlur:e=>{e.target.style.borderColor="#e0e0e0",e.target.style.boxShadow="none"},placeholder:"输入密码",required:!0,disabled:d,className:"jsx-6e990f12e1eeedd1"}),(0,a.jsx)("button",{type:"button",onClick:()=>y(!g),style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#666",cursor:"pointer",fontSize:"1.2rem",padding:"0.25rem"},className:"jsx-6e990f12e1eeedd1",children:g?"\uD83D\uDC41️":"\uD83D\uDC41"})]})]}),(0,a.jsx)(c.E.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},style:{width:"100%",padding:"1rem",backgroundColor:d?"#ccc":j,color:"white",border:"none",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:d?"none":"0 8px 32px ".concat(j,"30%")},children:d?(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-6e990f12e1eeedd1",children:[(0,a.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid white",borderTop:"none",borderRight:"none",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-6e990f12e1eeedd1"}),"登录中..."]}):"登录管理后台"})]}),(0,a.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},style:{marginTop:"2rem",textAlign:"center",fontSize:"0.9rem",color:"#666",padding:"1rem",backgroundColor:"".concat(j,"10"),borderRadius:"12px"},children:[(0,a.jsx)("p",{style:{margin:"0 0 0.5rem 0",fontWeight:"600"},className:"jsx-6e990f12e1eeedd1",children:"默认登录信息"}),(0,a.jsxs)("p",{style:{margin:0,fontWeight:"500"},className:"jsx-6e990f12e1eeedd1",children:["用户名：",(0,a.jsx)("span",{style:{color:j},className:"jsx-6e990f12e1eeedd1",children:"猫猫名字"})]}),(0,a.jsxs)("p",{style:{margin:0,fontWeight:"500"},className:"jsx-6e990f12e1eeedd1",children:["密码：",(0,a.jsx)("span",{style:{color:j},className:"jsx-6e990f12e1eeedd1",children:"你猜"})]})]})]})}),(0,a.jsx)("div",{style:{position:"absolute",bottom:"2rem",right:"2rem",fontSize:"3rem",opacity:.1,animation:"float 6s ease-in-out infinite"},className:"jsx-6e990f12e1eeedd1",children:"\uD83C\uDF3F"})]}),(0,a.jsx)(o(),{id:"6e990f12e1eeedd1",children:"@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}50%{-webkit-transform:translatey(-20px)rotate(180deg);transform:translatey(-20px)rotate(180deg)}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}50%{-moz-transform:translatey(-20px)rotate(180deg);transform:translatey(-20px)rotate(180deg)}}@-o-keyframes float{0%,100%{-o-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}50%{-o-transform:translatey(-20px)rotate(180deg);transform:translatey(-20px)rotate(180deg)}}@keyframes float{0%,100%{-webkit-transform:translatey(0px)rotate(0deg);-moz-transform:translatey(0px)rotate(0deg);-o-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}50%{-webkit-transform:translatey(-20px)rotate(180deg);-moz-transform:translatey(-20px)rotate(180deg);-o-transform:translatey(-20px)rotate(180deg);transform:translatey(-20px)rotate(180deg)}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )})}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )})}}@-o-keyframes spin{from{-o-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )})}}@keyframes spin{from{-webkit-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});-moz-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});-o-transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )});transform:rotate(0deg;\r\n          }\r\n          to {\r\n            transform: rotate(360deg;\r\n          }\r\n        }\r\n      )})}}"})]})}},1163:function(e,t,r){e.exports=r(6036)}},function(e){e.O(0,[322,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);